// Version 1.0.0 timechart - 
!function (e, t) { "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.TimelinesChart = t() }(this, function () {
    "use strict"; function f(e) { return function (e) { if (Array.isArray(e)) { for (var t = 0, n = new Array(e.length) ; t < e.length; t++) n[t] = e[t]; return n } }(e) || function (e) { if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e) }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance") }() } !function (e, t) { void 0 === t && (t = {}); var n = t.insertAt; if (e && "undefined" != typeof document) { var a = document.head || document.getElementsByTagName("head")[0], r = document.createElement("style"); r.type = "text/css", "top" === n && a.firstChild ? a.insertBefore(r, a.firstChild) : a.appendChild(r), r.styleSheet ? r.styleSheet.cssText = e : r.appendChild(document.createTextNode(e)) } }(".timelines-chart {\r\n\r\n  text-align: center;\r\n\r\n  /* Cancel selection interaction */\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n  .timelines-chart .axises line, .timelines-chart .axises path {\r\n      stroke: #808080;\r\n    }\r\n\r\n  .timelines-chart .axises .x-axis {\r\n      font: 12px sans-serif;\r\n    }\r\n\r\n  .timelines-chart .axises .x-grid line {\r\n      stroke: #D3D3D3;\r\n    }\r\n\r\n  .timelines-chart .axises .y-axis line, .timelines-chart .axises .y-axis path, .timelines-chart .axises .grp-axis line, .timelines-chart .axises .grp-axis path {\r\n        stroke: none;\r\n      }\r\n\r\n  .timelines-chart .axises .y-axis text, .timelines-chart .axises .grp-axis text {\r\n        fill: #2F4F4F;\r\n      }\r\n\r\n  .timelines-chart .series-group {\r\n    fill-opacity: 0.6;\r\n    stroke: #808080;\r\n    stroke-opacity: 0.2;\r\n  }\r\n\r\n  .timelines-chart .series-segment {\r\n    stroke: none;\r\n  }\r\n\r\n  .timelines-chart .series-group, .timelines-chart .series-segment {\r\n    cursor: crosshair;\r\n  }\r\n\r\n  .timelines-chart .legend {\r\n    font-family: Sans-Serif;\r\n  }\r\n\r\n  .timelines-chart .legend .legendText {\r\n      fill: #666;\r\n    }\r\n\r\n  .timelines-chart .reset-zoom-btn {\r\n    font-family: sans-serif;\r\n    fill: blue;\r\n    opacity: .6;\r\n    cursor: pointer;\r\n  }\r\n\r\n.brusher .grid-background {\r\n    fill: lightgrey;\r\n  }\r\n\r\n.brusher .axis path {\r\n    display: none;\r\n  }\r\n\r\n.brusher .tick text {\r\n    text-anchor: middle;\r\n  }\r\n\r\n.brusher .grid line, .brusher .grid path {\r\n      stroke: #fff;\r\n    }\r\n\r\n.chart-zoom-selection, .brusher .brush .selection {\r\n  stroke: blue;\r\n  stroke-opacity: 0.6;\r\n  fill: blue;\r\n  fill-opacity: 0.3;\r\n  shape-rendering: crispEdges;\r\n}\r\n\r\n.chart-tooltip {\r\n  color: #eee;\r\n  background: rgba(0,0,140,0.85);\r\n  padding: 5px;\r\n  border-radius: 3px;\r\n  font: 11px sans-serif;\r\n  z-index: 4000;\r\n}\r\n\r\n.chart-tooltip.group-tooltip {\r\n    font-size: 14px;\r\n  }\r\n\r\n.chart-tooltip.line-tooltip {\r\n    font-size: 13px;\r\n  }\r\n\r\n.chart-tooltip.group-tooltip, .chart-tooltip.line-tooltip {\r\n    font-weight: bold;\r\n  }\r\n\r\n.chart-tooltip.segment-tooltip {\r\n     text-align: center;\r\n  }"); "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self && self; function e(e, t) { return e(t = { exports: {} }, t.exports), t.exports } var t, n = e(function (e, t) { "undefined" != typeof self && self, e.exports = function (n) { var a = {}; function r(e) { if (a[e]) return a[e].exports; var t = a[e] = { i: e, l: !1, exports: {} }; return n[e].call(t.exports, t, t.exports, r), t.l = !0, t.exports } return r.m = n, r.c = a, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { configurable: !1, enumerable: !0, get: n }) }, r.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, "a", t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = "", r(r.s = 0) }([function (e, t, n) { var a, r, i, f; f = function (e, t, n) { Object.defineProperty(t, "__esModule", { value: !0 }), t.default = function (e) { var t = e.stateInit, a = void 0 === t ? function () { return {} } : t, n = e.props, r = void 0 === n ? {} : n, i = e.methods, c = void 0 === i ? {} : i, f = e.aliases, o = void 0 === f ? {} : f, u = e.init, l = void 0 === u ? function () { } : u, s = e.update, d = void 0 === s ? function () { } : s, h = Object.keys(r).map(function (e) { return new p(e, r[e]) }); return function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}, i = Object.assign({}, a instanceof Function ? a(t) : a, { initialised: !1 }); function f(e) { return n(e, t), r(), f } var n = function (e, t) { l.call(f, e, i, t), i.initialised = !0 }, r = (0, b.default)(function () { i.initialised && d.call(f, i) }, 1); return h.forEach(function (e) { f[e.name] = function (t) { var n = 1 < arguments.length && void 0 !== arguments[1] && arguments[1], a = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : function (e, t) { }; return function (e) { return arguments.length ? (i[t] = e, a.call(f, e, i), n && r(), f) : i[t] } }(e.name, e.triggerUpdate, e.onChange) }), Object.keys(c).forEach(function (r) { f[r] = function () { for (var e, t = arguments.length, n = Array(t), a = 0; a < t; a++) n[a] = arguments[a]; return (e = c[r]).call.apply(e, [f, i].concat(n)) } }), Object.entries(o).forEach(function (e) { var t = g(e, 2), n = t[0], a = t[1]; return f[n] = f[a] }), f.resetProps = function () { return h.forEach(function (e) { f[e.name](e.defaultVal) }), f }, f.resetProps(), i._rerender = r, f } }; var a, b = (a = n) && a.__esModule ? a : { default: a }, g = function (e, t) { if (Array.isArray(e)) return e; if (Symbol.iterator in Object(e)) return function (e, t) { var n = [], a = !0, r = !1, i = void 0; try { for (var f, c = e[Symbol.iterator]() ; !(a = (f = c.next()).done) && (n.push(f.value), !t || n.length !== t) ; a = !0); } catch (e) { r = !0, i = e } finally { try { !a && c.return && c.return() } finally { if (r) throw i } } return n }(e, t); throw new TypeError("Invalid attempt to destructure non-iterable instance") }, p = function e(t, n) { var a = n.default, r = void 0 === a ? null : a, i = n.triggerUpdate, f = void 0 === i || i, c = n.onChange, o = void 0 === c ? function (e, t) { } : c; !function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), this.name = t, this.defaultVal = r, this.triggerUpdate = f, this.onChange = o }; e.exports = t.default }, r = [e, t, n(1)], void 0 === (i = "function" == typeof (a = f) ? a.apply(t, r) : a) || (e.exports = i) }, function (e, t) { e.exports = function (t, n, a) { var r, i, f, c, o; function u() { var e = Date.now() - c; e < n && 0 <= e ? r = setTimeout(u, n - e) : (r = null, a || (o = t.apply(f, i), f = i = null)) } null == n && (n = 100); var e = function () { f = this, i = arguments, c = Date.now(); var e = a && !r; return r || (r = setTimeout(u, n)), e && (o = t.apply(f, i), f = i = null), o }; return e.clear = function () { r && (clearTimeout(r), r = null) }, e.flush = function () { r && (o = t.apply(f, i), f = i = null, clearTimeout(r), r = null) }, e } }]) }), a = (t = n) && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t; n.Kapsule; function h(e, t) { return e < t ? -1 : t < e ? 1 : t <= e ? 0 : NaN } function A(i) { var n; return 1 === i.length && (n = i, i = function (e, t) { return h(n(e), t) }), { left: function (e, t, n, a) { for (null == n && (n = 0), null == a && (a = e.length) ; n < a;) { var r = n + a >>> 1; i(e[r], t) < 0 ? n = r + 1 : a = r } return n }, right: function (e, t, n, a) { for (null == n && (n = 0), null == a && (a = e.length) ; n < a;) { var r = n + a >>> 1; 0 < i(e[r], t) ? a = r : n = r + 1 } return n } } } var o = A(h).right; function b(e, t, n) { e = +e, t = +t, n = (r = arguments.length) < 2 ? (t = e, e = 0, 1) : r < 3 ? 1 : +n; for (var a = -1, r = 0 | Math.max(0, Math.ceil((t - e) / n)), i = new Array(r) ; ++a < r;) i[a] = e + a * n; return i } var c = Math.sqrt(50), u = Math.sqrt(10), l = Math.sqrt(2); function r(e, t, n) { var a, r, i, f, c = -1; if (n = +n, (e = +e) === (t = +t) && 0 < n) return [e]; if ((a = t < e) && (r = e, e = t, t = r), 0 === (f = s(e, t, n)) || !isFinite(f)) return []; if (0 < f) for (e = Math.ceil(e / f), t = Math.floor(t / f), i = new Array(r = Math.ceil(t - e + 1)) ; ++c < r;) i[c] = (e + c) * f; else for (e = Math.floor(e * f), t = Math.ceil(t * f), i = new Array(r = Math.ceil(e - t + 1)) ; ++c < r;) i[c] = (e - c) / f; return a && i.reverse(), i } function s(e, t, n) { var a = (t - e) / Math.max(0, n), r = Math.floor(Math.log(a) / Math.LN10), i = a / Math.pow(10, r); return 0 <= r ? (c <= i ? 10 : u <= i ? 5 : l <= i ? 2 : 1) * Math.pow(10, r) : -Math.pow(10, -r) / (c <= i ? 10 : u <= i ? 5 : l <= i ? 2 : 1) } function S(e, t, n) { var a = Math.abs(t - e) / Math.max(0, n), r = Math.pow(10, Math.floor(Math.log(a) / Math.LN10)), i = a / r; return c <= i ? r *= 10 : u <= i ? r *= 5 : l <= i && (r *= 2), t < e ? -r : r } function g(e, t) {
        var n, a, r = e.length, i = -1; if (null == t) {
            for (; ++i < r;)// Find the first comparable value.
                if (null != (n = e[i]) && n <= n) for (a = n; ++i < r;)// Compare the remaining values.
                    null != (n = e[i]) && a < n && (a = n)
        } else for (; ++i < r;)// Find the first comparable value.
            if (null != (n = t(e[i], i, e)) && n <= n) for (a = n; ++i < r;)// Compare the remaining values.
                null != (n = t(e[i], i, e)) && a < n && (a = n); return a
    } function p(e, t) {
        var n, a, r = e.length, i = -1; if (null == t) {
            for (; ++i < r;)// Find the first comparable value.
                if (null != (n = e[i]) && n <= n) for (a = n; ++i < r;)// Compare the remaining values.
                    null != (n = e[i]) && n < a && (a = n)
        } else for (; ++i < r;)// Find the first comparable value.
            if (null != (n = t(e[i], i, e)) && n <= n) for (a = n; ++i < r;)// Compare the remaining values.
                null != (n = t(e[i], i, e)) && n < a && (a = n); return a
    } var i = Array.prototype.slice; function k(e) { return e } var D = 1, T = 2, C = 3, z = 4, F = 1e-6; function d(e) { return "translate(" + (e + .5) + ",0)" } function N(e) { return "translate(0," + (e + .5) + ")" } function H() { return !this.__axis } function m(g, p) {
        var m = [], v = null, y = null, w = 6, x = 6, _ = 3, M = g === D || g === z ? -1 : 1, A = g === z || g === T ? "x" : "y", S = g === D || g === C ? d : N; function t(e) {
            var t = null == v ? p.ticks ? p.ticks.apply(p, m) : p.domain() : v, n = null == y ? p.tickFormat ? p.tickFormat.apply(p, m) : k : y, a = Math.max(w, 0) + _, r = p.range(), i = +r[0] + .5, f = +r[r.length - 1] + .5, c = (p.bandwidth ? function (t) {
                var n = Math.max(0, t.bandwidth() - 1) / 2;// Adjust for 0.5px offset.
                return t.round() && (n = Math.round(n)), function (e) { return +t(e) + n }
            } : function (t) { return function (e) { return +t(e) } })(p.copy()), o = e.selection ? e.selection() : e, u = o.selectAll(".domain").data([null]), l = o.selectAll(".tick").data(t, p).order(), s = l.exit(), d = l.enter().append("g").attr("class", "tick"), h = l.select("line"), b = l.select("text"); u = u.merge(u.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor")), l = l.merge(d), h = h.merge(d.append("line").attr("stroke", "currentColor").attr(A + "2", M * w)), b = b.merge(d.append("text").attr("fill", "currentColor").attr(A, M * a).attr("dy", g === D ? "0em" : g === C ? "0.71em" : "0.32em")), e !== o && (u = u.transition(e), l = l.transition(e), h = h.transition(e), b = b.transition(e), s = s.transition(e).attr("opacity", F).attr("transform", function (e) { return isFinite(e = c(e)) ? S(e) : this.getAttribute("transform") }), d.attr("opacity", F).attr("transform", function (e) { var t = this.parentNode.__axis; return S(t && isFinite(t = t(e)) ? t : c(e)) })), s.remove(), u.attr("d", g === z || g == T ? x ? "M" + M * x + "," + i + "H0.5V" + f + "H" + M * x : "M0.5," + i + "V" + f : x ? "M" + i + "," + M * x + "V0.5H" + f + "V" + M * x : "M" + i + ",0.5H" + f), l.attr("opacity", 1).attr("transform", function (e) { return S(c(e)) }), h.attr(A + "2", M * w), b.attr(A, M * a).text(n), o.filter(H).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", g === T ? "start" : g === z ? "end" : "middle"), o.each(function () { this.__axis = c })
        } return t.scale = function (e) { return arguments.length ? (p = e, t) : p }, t.ticks = function () { return m = i.call(arguments), t }, t.tickArguments = function (e) { return arguments.length ? (m = null == e ? [] : i.call(e), t) : m.slice() }, t.tickValues = function (e) { return arguments.length ? (v = null == e ? null : i.call(e), t) : v && v.slice() }, t.tickFormat = function (e) { return arguments.length ? (y = e, t) : y }, t.tickSize = function (e) { return arguments.length ? (w = x = +e, t) : w }, t.tickSizeInner = function (e) { return arguments.length ? (w = +e, t) : w }, t.tickSizeOuter = function (e) { return arguments.length ? (x = +e, t) : x }, t.tickPadding = function (e) { return arguments.length ? (_ = +e, t) : _ }, t
    } function v(e) { return m(C, e) } var y = "$"; function w() { } function x(e, t) {
        var n = new w;
        // Copy constructor.
        if (e instanceof w) e.each(function (e, t) { n.set(t, e) });
            // Index array by numeric index or specified key function.
        else if (Array.isArray(e)) { var a, r = -1, i = e.length; if (null == t) for (; ++r < i;) n.set(r, e[r]); else for (; ++r < i;) n.set(t(a = e[r], r, e), a) }
            // Convert object to map.
        else if (e) for (var f in e) n.set(f, e[f]); return n
    } function _() { } w.prototype = x.prototype = { constructor: w, has: function (e) { return y + e in this }, get: function (e) { return this[y + e] }, set: function (e, t) { return this[y + e] = t, this }, remove: function (e) { var t = y + e; return t in this && delete this[t] }, clear: function () { for (var e in this) e[0] === y && delete this[e] }, keys: function () { var e = []; for (var t in this) t[0] === y && e.push(t.slice(1)); return e }, values: function () { var e = []; for (var t in this) t[0] === y && e.push(this[t]); return e }, entries: function () { var e = []; for (var t in this) t[0] === y && e.push({ key: t.slice(1), value: this[t] }); return e }, size: function () { var e = 0; for (var t in this) t[0] === y && ++e; return e }, empty: function () { for (var e in this) if (e[0] === y) return !1; return !0 }, each: function (e) { for (var t in this) t[0] === y && e(this[t], t.slice(1), this) } }; var M = x.prototype; _.prototype = function (e, t) {
        var n = new _;
        // Copy constructor.
        if (e instanceof _) e.each(function (e) { n.add(e) });
            // Otherwise, assume it’s an array.
        else if (e) { var a = -1, r = e.length; if (null == t) for (; ++a < r;) n.add(e[a]); else for (; ++a < r;) n.add(t(e[a], a, e)) } return n
    }.prototype = { constructor: _, has: M.has, add: function (e) { return this[y + (e += "")] = e, this }, remove: M.remove, clear: M.clear, values: M.keys, size: M.size, empty: M.empty, each: M.each }; var R = Array.prototype, L = R.map, U = R.slice, E = { name: "implicit" }; function Y(a) { var i = x(), f = [], r = E; function c(e) { var t = e + "", n = i.get(t); if (!n) { if (r !== E) return r; i.set(t, n = f.push(e)) } return a[(n - 1) % a.length] } return a = null == a ? [] : U.call(a), c.domain = function (e) { if (!arguments.length) return f.slice(); f = [], i = x(); for (var t, n, a = -1, r = e.length; ++a < r;) i.has(n = (t = e[a]) + "") || i.set(n, f.push(t)); return c }, c.range = function (e) { return arguments.length ? (a = U.call(e), c) : a.slice() }, c.unknown = function (e) { return arguments.length ? (r = e, c) : r }, c.copy = function () { return Y().domain(f).range(a).unknown(r) }, c } function O() { return function e(t) { var n = t.copy; return t.padding = t.paddingOuter, delete t.paddingInner, delete t.paddingOuter, t.copy = function () { return e(n()) }, t }(function e() { var i, f, t = Y().unknown(void 0), c = t.domain, o = t.range, u = [0, 1], l = !1, s = 0, d = 0, h = .5; function n() { var e = c().length, t = u[1] < u[0], n = u[t - 0], a = u[1 - t]; i = (a - n) / Math.max(1, e - s + 2 * d), l && (i = Math.floor(i)), n += (a - n - i * (e - s)) * h, f = i * (1 - s), l && (n = Math.round(n), f = Math.round(f)); var r = b(e).map(function (e) { return n + i * e }); return o(t ? r.reverse() : r) } return delete t.unknown, t.domain = function (e) { return arguments.length ? (c(e), n()) : c() }, t.range = function (e) { return arguments.length ? (u = [+e[0], +e[1]], n()) : u.slice() }, t.rangeRound = function (e) { return u = [+e[0], +e[1]], l = !0, n() }, t.bandwidth = function () { return f }, t.step = function () { return i }, t.round = function (e) { return arguments.length ? (l = !!e, n()) : l }, t.padding = function (e) { return arguments.length ? (s = d = Math.max(0, Math.min(1, e)), n()) : s }, t.paddingInner = function (e) { return arguments.length ? (s = Math.max(0, Math.min(1, e)), n()) : s }, t.paddingOuter = function (e) { return arguments.length ? (d = Math.max(0, Math.min(1, e)), n()) : d }, t.align = function (e) { return arguments.length ? (h = Math.max(0, Math.min(1, e)), n()) : h }, t.copy = function () { return e().domain(c()).range(u).round(l).paddingInner(s).paddingOuter(d).align(h) }, n() }().paddingInner(1)) } function P(e, t, n) { e.prototype = t.prototype = n, n.constructor = e } function I(e, t) { var n = Object.create(e.prototype); for (var a in t) n[a] = t[a]; return n } function X() { } var j = 1 / .7, q = "\\s*([+-]?\\d+)\\s*", V = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*", B = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*", W = /^#([0-9a-f]{3})$/, G = /^#([0-9a-f]{6})$/, $ = new RegExp("^rgb\\(" + [q, q, q] + "\\)$"), Z = new RegExp("^rgb\\(" + [B, B, B] + "\\)$"), Q = new RegExp("^rgba\\(" + [q, q, q, V] + "\\)$"), J = new RegExp("^rgba\\(" + [B, B, B, V] + "\\)$"), K = new RegExp("^hsl\\(" + [V, B, B] + "\\)$"), ee = new RegExp("^hsla\\(" + [V, B, B, V] + "\\)$"), te = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }; function ne(e) {
        var t; return e = (e + "").trim().toLowerCase(), (t = W.exec(e)) ? new ce((t = parseInt(t[1], 16)) >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | 240 & t, (15 & t) << 4 | 15 & t, 1) :// #f00
        (t = G.exec(e)) ? ae(parseInt(t[1], 16)) : (t = $.exec(e)) ? new ce(t[1], t[2], t[3], 1) : (t = Z.exec(e)) ? new ce(255 * t[1] / 100, 255 * t[2] / 100, 255 * t[3] / 100, 1) : (t = Q.exec(e)) ? re(t[1], t[2], t[3], t[4]) : (t = J.exec(e)) ? re(255 * t[1] / 100, 255 * t[2] / 100, 255 * t[3] / 100, t[4]) : (t = K.exec(e)) ? ue(t[1], t[2] / 100, t[3] / 100, 1) : (t = ee.exec(e)) ? ue(t[1], t[2] / 100, t[3] / 100, t[4]) : te.hasOwnProperty(e) ? ae(te[e]) : "transparent" === e ? new ce(NaN, NaN, NaN, 0) : null
    } function ae(e) { return new ce(e >> 16 & 255, e >> 8 & 255, 255 & e, 1) } function re(e, t, n, a) { return a <= 0 && (e = t = n = NaN), new ce(e, t, n, a) } function ie(e) { return e instanceof X || (e = ne(e)), e ? new ce((e = e.rgb()).r, e.g, e.b, e.opacity) : new ce } function fe(e, t, n, a) { return 1 === arguments.length ? ie(e) : new ce(e, t, n, null == a ? 1 : a) } function ce(e, t, n, a) { this.r = +e, this.g = +t, this.b = +n, this.opacity = +a } function oe(e) { return ((e = Math.max(0, Math.min(255, Math.round(e) || 0))) < 16 ? "0" : "") + e.toString(16) } function ue(e, t, n, a) { return a <= 0 ? e = t = n = NaN : n <= 0 || 1 <= n ? e = t = NaN : t <= 0 && (e = NaN), new le(e, t, n, a) } function le(e, t, n, a) { this.h = +e, this.s = +t, this.l = +n, this.opacity = +a }
    /* From FvD 13.37, CSS Color Module Level 3 */
    function se(e, t, n) { return 255 * (e < 60 ? t + (n - t) * e / 60 : e < 180 ? n : e < 240 ? t + (n - t) * (240 - e) / 60 : t) } P(X, ne, { displayable: function () { return this.rgb().displayable() }, hex: function () { return this.rgb().hex() }, toString: function () { return this.rgb() + "" } }), P(ce, fe, I(X, { brighter: function (e) { return e = null == e ? j : Math.pow(j, e), new ce(this.r * e, this.g * e, this.b * e, this.opacity) }, darker: function (e) { return e = null == e ? .7 : Math.pow(.7, e), new ce(this.r * e, this.g * e, this.b * e, this.opacity) }, rgb: function () { return this }, displayable: function () { return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1 }, hex: function () { return "#" + oe(this.r) + oe(this.g) + oe(this.b) }, toString: function () { var e = this.opacity; return (1 === (e = isNaN(e) ? 1 : Math.max(0, Math.min(1, e))) ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === e ? ")" : ", " + e + ")") } })), P(le, function (e, t, n, a) { return 1 === arguments.length ? function (e) { if (e instanceof le) return new le(e.h, e.s, e.l, e.opacity); if (e instanceof X || (e = ne(e)), !e) return new le; if (e instanceof le) return e; var t = (e = e.rgb()).r / 255, n = e.g / 255, a = e.b / 255, r = Math.min(t, n, a), i = Math.max(t, n, a), f = NaN, c = i - r, o = (i + r) / 2; return c ? (f = t === i ? (n - a) / c + 6 * (n < a) : n === i ? (a - t) / c + 2 : (t - n) / c + 4, c /= o < .5 ? i + r : 2 - i - r, f *= 60) : c = 0 < o && o < 1 ? 0 : f, new le(f, c, o, e.opacity) }(e) : new le(e, t, n, null == a ? 1 : a) }, I(X, { brighter: function (e) { return e = null == e ? j : Math.pow(j, e), new le(this.h, this.s, this.l * e, this.opacity) }, darker: function (e) { return e = null == e ? .7 : Math.pow(.7, e), new le(this.h, this.s, this.l * e, this.opacity) }, rgb: function () { var e = this.h % 360 + 360 * (this.h < 0), t = isNaN(e) || isNaN(this.s) ? 0 : this.s, n = this.l, a = n + (n < .5 ? n : 1 - n) * t, r = 2 * n - a; return new ce(se(240 <= e ? e - 240 : e + 120, r, a), se(e, r, a), se(e < 120 ? e + 240 : e - 120, r, a), this.opacity) }, displayable: function () { return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1 } })); var de = Math.PI / 180, he = 180 / Math.PI, be = .96422, ge = 1, pe = .82521, me = 4 / 29, ve = 6 / 29, ye = 3 * ve * ve, we = ve * ve * ve; function xe(e) { if (e instanceof _e) return new _e(e.l, e.a, e.b, e.opacity); if (e instanceof De) { if (isNaN(e.h)) return new _e(e.l, 0, 0, e.opacity); var t = e.h * de; return new _e(e.l, Math.cos(t) * e.c, Math.sin(t) * e.c, e.opacity) } e instanceof ce || (e = ie(e)); var n, a, r = ke(e.r), i = ke(e.g), f = ke(e.b), c = Me((.2225045 * r + .7168786 * i + .0606169 * f) / ge); return r === i && i === f ? n = a = c : (n = Me((.4360747 * r + .3850649 * i + .1430804 * f) / be), a = Me((.0139322 * r + .0971045 * i + .7141733 * f) / pe)), new _e(116 * c - 16, 500 * (n - c), 200 * (c - a), e.opacity) } function _e(e, t, n, a) { this.l = +e, this.a = +t, this.b = +n, this.opacity = +a } function Me(e) { return we < e ? Math.pow(e, 1 / 3) : e / ye + me } function Ae(e) { return ve < e ? e * e * e : ye * (e - me) } function Se(e) { return 255 * (e <= .0031308 ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - .055) } function ke(e) { return (e /= 255) <= .04045 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4) } function De(e, t, n, a) { this.h = +e, this.c = +t, this.l = +n, this.opacity = +a } P(_e, function (e, t, n, a) { return 1 === arguments.length ? xe(e) : new _e(e, t, n, null == a ? 1 : a) }, I(X, { brighter: function (e) { return new _e(this.l + 18 * (null == e ? 1 : e), this.a, this.b, this.opacity) }, darker: function (e) { return new _e(this.l - 18 * (null == e ? 1 : e), this.a, this.b, this.opacity) }, rgb: function () { var e = (this.l + 16) / 116, t = isNaN(this.a) ? e : e + this.a / 500, n = isNaN(this.b) ? e : e - this.b / 200; return new ce(Se(3.1338561 * (t = be * Ae(t)) - 1.6168667 * (e = ge * Ae(e)) - .4906146 * (n = pe * Ae(n))), Se(-.9787684 * t + 1.9161415 * e + .033454 * n), Se(.0719453 * t - .2289914 * e + 1.4052427 * n), this.opacity) } })), P(De, function (e, t, n, a) { return 1 === arguments.length ? function (e) { if (e instanceof De) return new De(e.h, e.c, e.l, e.opacity); if (e instanceof _e || (e = xe(e)), 0 === e.a && 0 === e.b) return new De(NaN, 0, e.l, e.opacity); var t = Math.atan2(e.b, e.a) * he; return new De(t < 0 ? t + 360 : t, Math.sqrt(e.a * e.a + e.b * e.b), e.l, e.opacity) }(e) : new De(e, t, n, null == a ? 1 : a) }, I(X, { brighter: function (e) { return new De(this.h, this.c, this.l + 18 * (null == e ? 1 : e), this.opacity) }, darker: function (e) { return new De(this.h, this.c, this.l - 18 * (null == e ? 1 : e), this.opacity) }, rgb: function () { return xe(this).rgb() } })); var Te = 1.78277, Ce = -.29227, ze = -.90649, Fe = 1.97294, Ne = Fe * ze, He = Fe * Te, Re = Te * Ce - -.14861 * ze; function Le(e, t, n, a) {
        return 1 === arguments.length ? function (e) {
            if (e instanceof Ue) return new Ue(e.h, e.s, e.l, e.opacity); e instanceof ce || (e = ie(e)); var t = e.r / 255, n = e.g / 255, a = e.b / 255, r = (Re * a + Ne * t - He * n) / (Re + Ne - He), i = a - r, f = (Fe * (n - r) - Ce * i) / ze, c = Math.sqrt(f * f + i * i) / (Fe * r * (1 - r)),// NaN if l=0 or l=1
            o = c ? Math.atan2(f, i) * he - 120 : NaN; return new Ue(o < 0 ? o + 360 : o, c, r, e.opacity)
        }(e) : new Ue(e, t, n, null == a ? 1 : a)
    } function Ue(e, t, n, a) { this.h = +e, this.s = +t, this.l = +n, this.opacity = +a } function Ee(e) { return function () { return e } } function Ye(t, n) { return function (e) { return t + e * n } } function Oe(i) { return 1 == (i = +i) ? Pe : function (e, t) { return t - e ? (n = e, a = t, r = i, n = Math.pow(n, r), a = Math.pow(a, r) - n, r = 1 / r, function (e) { return Math.pow(n + e * a, r) }) : Ee(isNaN(e) ? t : e); var n, a, r } } function Pe(e, t) { var n = t - e; return n ? Ye(e, n) : Ee(isNaN(e) ? t : e) } P(Ue, Le, I(X, { brighter: function (e) { return e = null == e ? j : Math.pow(j, e), new Ue(this.h, this.s, this.l * e, this.opacity) }, darker: function (e) { return e = null == e ? .7 : Math.pow(.7, e), new Ue(this.h, this.s, this.l * e, this.opacity) }, rgb: function () { var e = isNaN(this.h) ? 0 : (this.h + 120) * de, t = +this.l, n = isNaN(this.s) ? 0 : this.s * t * (1 - t), a = Math.cos(e), r = Math.sin(e); return new ce(255 * (t + n * (-.14861 * a + Te * r)), 255 * (t + n * (Ce * a + ze * r)), 255 * (t + n * (Fe * a)), this.opacity) } })); var Ie = function e(t) { var f = Oe(t); function n(t, e) { var n = f((t = fe(t)).r, (e = fe(e)).r), a = f(t.g, e.g), r = f(t.b, e.b), i = Pe(t.opacity, e.opacity); return function (e) { return t.r = n(e), t.g = a(e), t.b = r(e), t.opacity = i(e), t + "" } } return n.gamma = e, n }(1); var Xe, je = (Xe = function (u) { var l = u.length - 1; return function (e) { var t, n, a, r = e <= 0 ? e = 0 : 1 <= e ? l - (e = 1) : Math.floor(e * l), i = u[r], f = u[r + 1], c = 0 < r ? u[r - 1] : 2 * i - f, o = r < l - 1 ? u[r + 2] : 2 * f - i; return ((1 - 3 * (t = (e - r / l) * l) + 3 * (n = t * t) - (a = n * t)) * c + (4 - 6 * n + 3 * a) * i + (1 + 3 * t + 3 * n - 3 * a) * f + a * o) / 6 } }, function (e) { var t, n, a = e.length, r = new Array(a), i = new Array(a), f = new Array(a); for (t = 0; t < a; ++t) n = fe(e[t]), r[t] = n.r || 0, i[t] = n.g || 0, f[t] = n.b || 0; return r = Xe(r), i = Xe(i), f = Xe(f), n.opacity = 1, function (e) { return n.r = r(e), n.g = i(e), n.b = f(e), n + "" } }); function qe(t, n) { return n -= t = +t, function (e) { return t + n * e } } var Ve = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g, Be = new RegExp(Ve.source, "g"); function We(e, a) {
        var// scan index for next number in b
        t,// current match in a
        n,// current match in b
        r, i, f, c = Ve.lastIndex = Be.lastIndex = 0,// string preceding current number in b, if any
        o = -1,// index in s
        u = [],// string constants and placeholders
        l = [];// number interpolators
        // Coerce inputs to strings.
        // Interpolate pairs of numbers in a & b.
        for (e += "", a += ""; (t = Ve.exec(e)) && (n = Be.exec(a)) ;) (r = n.index) > c && (// a string precedes the next number in b
        r = a.slice(c, r), u[o] ? u[o] += r : u[++o] = r), (t = t[0]) === (n = n[0]) ?// numbers in a & b match
        u[o] ? u[o] += n : u[++o] = n : (// interpolate non-matching numbers
        u[++o] = null, l.push({ i: o, x: qe(t, n) })), c = Be.lastIndex;
        // Add remains of b.
        // Special optimization for only a single match.
        // Otherwise, interpolate each of the numbers and rejoin the string.
        return c < a.length && (r = a.slice(c), u[o] ? u[o] += r : u[++o] = r), u.length < 2 ? l[0] ? (f = l[0].x, function (e) { return f(e) + "" }) : (i = a, function () { return i }) : (a = l.length, function (e) { for (var t, n = 0; n < a; ++n) u[(t = l[n]).i] = t.x(e); return u.join("") })
    } function Ge(e, t) { var n, a = typeof t; return null == t || "boolean" === a ? Ee(t) : ("number" === a ? qe : "string" === a ? (n = ne(t)) ? (t = n, Ie) : We : t instanceof ne ? Ie : t instanceof Date ? function (t, n) { var a = new Date; return n -= t = +t, function (e) { return a.setTime(t + n * e), a } } : Array.isArray(t) ? function (e, t) { var n, a = t ? t.length : 0, r = e ? Math.min(a, e.length) : 0, i = new Array(r), f = new Array(a); for (n = 0; n < r; ++n) i[n] = Ge(e[n], t[n]); for (; n < a; ++n) f[n] = t[n]; return function (e) { for (n = 0; n < r; ++n) f[n] = i[n](e); return f } } : "function" != typeof t.valueOf && "function" != typeof t.toString || isNaN(t) ? function (e, t) { var n, a = {}, r = {}; for (n in null !== e && "object" == typeof e || (e = {}), null !== t && "object" == typeof t || (t = {}), t) n in e ? a[n] = Ge(e[n], t[n]) : r[n] = t[n]; return function (e) { for (n in a) r[n] = a[n](e); return r } } : qe)(e, t) } function $e(t, n) { return n -= t = +t, function (e) { return Math.round(t + n * e) } } var Ze, Qe, Je, Ke, et = 180 / Math.PI, tt = { translateX: 0, translateY: 0, rotate: 0, skewX: 0, scaleX: 1, scaleY: 1 }; function nt(e, t, n, a, r, i) { var f, c, o; return (f = Math.sqrt(e * e + t * t)) && (e /= f, t /= f), (o = e * n + t * a) && (n -= e * o, a -= t * o), (c = Math.sqrt(n * n + a * a)) && (n /= c, a /= c, o /= c), e * a < t * n && (e = -e, t = -t, o = -o, f = -f), { translateX: r, translateY: i, rotate: Math.atan2(t, e) * et, skewX: Math.atan(o) * et, scaleX: f, scaleY: c } } function at(d, h, b, g) {
        function p(e) { return e.length ? e.pop() + " " : "" } return function (e, t) {
            var n, a, r, i, f, c, o, u, l = [],// string constants and placeholders
            s = [];// number interpolators
            // gc
            return e = d(e), t = d(t), function (e, t, n, a, r, i) { if (e !== n || t !== a) { var f = r.push("translate(", null, h, null, b); i.push({ i: f - 4, x: qe(e, n) }, { i: f - 2, x: qe(t, a) }) } else (n || a) && r.push("translate(" + n + h + a + b) }(e.translateX, e.translateY, t.translateX, t.translateY, l, s), n = e.rotate, a = t.rotate, r = l, i = s, n !== a ? (180 < n - a ? a += 360 : 180 < a - n && (n += 360),// shortest path
            i.push({ i: r.push(p(r) + "rotate(", null, g) - 2, x: qe(n, a) })) : a && r.push(p(r) + "rotate(" + a + g), f = e.skewX, c = t.skewX, o = l, u = s, f !== c ? u.push({ i: o.push(p(o) + "skewX(", null, g) - 2, x: qe(f, c) }) : c && o.push(p(o) + "skewX(" + c + g), function (e, t, n, a, r, i) { if (e !== n || t !== a) { var f = r.push(p(r) + "scale(", null, ",", null, ")"); i.push({ i: f - 4, x: qe(e, n) }, { i: f - 2, x: qe(t, a) }) } else 1 === n && 1 === a || r.push(p(r) + "scale(" + n + "," + a + ")") }(e.scaleX, e.scaleY, t.scaleX, t.scaleY, l, s), e = t = null, function (e) { for (var t, n = -1, a = s.length; ++n < a;) l[(t = s[n]).i] = t.x(e); return l.join("") }
        }
    } var rt = at(function (e) { return "none" === e ? tt : (Ze || (Ze = document.createElement("DIV"), Qe = document.documentElement, Je = document.defaultView), Ze.style.transform = e, e = Je.getComputedStyle(Qe.appendChild(Ze), null).getPropertyValue("transform"), Qe.removeChild(Ze), nt(+(e = e.slice(7, -1).split(","))[0], +e[1], +e[2], +e[3], +e[4], +e[5])) }, "px, ", "px)", "deg)"), it = at(function (e) { return null == e ? tt : (Ke || (Ke = document.createElementNS("http://www.w3.org/2000/svg", "g")), Ke.setAttribute("transform", e), (e = Ke.transform.baseVal.consolidate()) ? nt((e = e.matrix).a, e.b, e.c, e.d, e.e, e.f) : tt) }, ", ", ")", ")"); Math.SQRT2; function ft(c) { return function e(f) { function t(t, e) { var n = c((t = Le(t)).h, (e = Le(e)).h), a = Pe(t.s, e.s), r = Pe(t.l, e.l), i = Pe(t.opacity, e.opacity); return function (e) { return t.h = n(e), t.s = a(e), t.l = r(Math.pow(e, f)), t.opacity = i(e), t + "" } } return f = +f, t.gamma = e, t }(1) } ft(function (e, t) { var n = t - e; return n ? Ye(e, 180 < n || n < -180 ? n - 360 * Math.round(n / 360) : n) : Ee(isNaN(e) ? t : e) }); var ct = ft(Pe); function ot(e) { return +e } var ut = [0, 1]; function lt(t, n) { return (n -= t = +t) ? function (e) { return (e - t) / n } : (e = n, function () { return e }); var e } function st(e, t, n, a) { var r = e[0], i = e[1], f = t[0], c = t[1]; return f = i < r ? (r = n(i, r), a(c, f)) : (r = n(r, i), a(f, c)), function (e) { return f(r(e)) } } function dt(n, e, t, a) {
        var r = Math.min(n.length, e.length) - 1, i = new Array(r), f = new Array(r), c = -1;
        // Reverse descending domains.
        for (n[r] < n[0] && (n = n.slice().reverse(), e = e.slice().reverse()) ; ++c < r;) i[c] = t(n[c], n[c + 1]), f[c] = a(e[c], e[c + 1]); return function (e) { var t = o(n, e, 1, r) - 1; return f[t](i[t](e)) }
    } function ht(e, t) { return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()) }
    // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].
    // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].
    function bt(t, n) { var a, i, f, c = ut, o = ut, u = Ge, l = !1; function r() { return a = 2 < Math.min(c.length, o.length) ? dt : st, i = f = null, e } function e(e) { return (i || (i = a(c, o, l ? (r = t, function (t, n) { var a = r(t = +t, n = +n); return function (e) { return e <= t ? 0 : n <= e ? 1 : a(e) } }) : t, u)))(+e); var r } return e.invert = function (e) { return (f || (f = a(o, c, lt, l ? (r = n, function (t, n) { var a = r(t = +t, n = +n); return function (e) { return e <= 0 ? t : 1 <= e ? n : a(e) } }) : n)))(+e); var r }, e.domain = function (e) { return arguments.length ? (c = L.call(e, ot), r()) : c.slice() }, e.range = function (e) { return arguments.length ? (o = U.call(e), r()) : o.slice() }, e.rangeRound = function (e) { return o = U.call(e), u = $e, r() }, e.clamp = function (e) { return arguments.length ? (l = !!e, r()) : l }, e.interpolate = function (e) { return arguments.length ? (u = e, r()) : u }, r() }
    // Computes the decimal coefficient and exponent of the specified number x with
    // significant digits p, where x is positive and p is in [1, 21] or undefined.
    // For example, formatDecimal(1.23) returns ["123", 0].
    function gt(e, t) {
        if ((n = (e = t ? e.toExponential(t - 1) : e.toExponential()).indexOf("e")) < 0) return null;// NaN, ±Infinity
        var n, a = e.slice(0, n);
        // The string returned by toExponential either has the form \d\.\d+e[-+]\d+
        // (e.g., 1.2e+3) or the form \de[-+]\d+ (e.g., 1e+3).
        return [1 < a.length ? a[0] + a.slice(2) : a, +e.slice(n + 1)]
    } function pt(e) { return (e = gt(Math.abs(e))) ? e[1] : NaN }
    // [[fill]align][sign][symbol][0][width][,][.precision][~][type]
    var mt, vt = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i; function yt(e) { return new wt(e) }// instanceof
    function wt(e) { if (!(t = vt.exec(e))) throw new Error("invalid format: " + e); var t; this.fill = t[1] || " ", this.align = t[2] || ">", this.sign = t[3] || "-", this.symbol = t[4] || "", this.zero = !!t[5], this.width = t[6] && +t[6], this.comma = !!t[7], this.precision = t[8] && +t[8].slice(1), this.trim = !!t[9], this.type = t[10] || "" } function xt(e, t) { var n = gt(e, t); if (!n) return e + ""; var a = n[0], r = n[1]; return r < 0 ? "0." + new Array(-r).join("0") + a : a.length > r + 1 ? a.slice(0, r + 1) + "." + a.slice(r + 1) : a + new Array(r - a.length + 2).join("0") } yt.prototype = wt.prototype, wt.prototype.toString = function () { return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (null == this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (null == this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type }; var _t = {
        "%": function (e, t) { return (100 * e).toFixed(t) }, b: function (e) { return Math.round(e).toString(2) }, c: function (e) { return e + "" }, d: function (e) { return Math.round(e).toString(10) }, e: function (e, t) { return e.toExponential(t) }, f: function (e, t) { return e.toFixed(t) }, g: function (e, t) { return e.toPrecision(t) }, o: function (e) { return Math.round(e).toString(8) }, p: function (e, t) { return xt(100 * e, t) }, r: xt, s: function (e, t) {
            var n = gt(e, t); if (!n) return e + ""; var a = n[0], r = n[1], i = r - (mt = 3 * Math.max(-8, Math.min(8, Math.floor(r / 3)))) + 1, f = a.length; return i === f ? a : f < i ? a + new Array(i - f + 1).join("0") : 0 < i ? a.slice(0, i) + "." + a.slice(i) : "0." + new Array(1 - i).join("0") + gt(e, Math.max(0, t + i - 1))[0];// less than 1y!
        }, X: function (e) { return Math.round(e).toString(16).toUpperCase() }, x: function (e) { return Math.round(e).toString(16) }
    }; function Mt(e) { return e } var At, St, kt, Dt = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"]; function Tt(e) {
        var t, c, o, _ = e.grouping && e.thousands ? (c = e.grouping, o = e.thousands, function (e, t) { for (var n = e.length, a = [], r = 0, i = c[0], f = 0; 0 < n && 0 < i && (t < f + i + 1 && (i = Math.max(1, t - f)), a.push(e.substring(n -= i, n + i)), !((f += i + 1) > t)) ;) i = c[r = (r + 1) % c.length]; return a.reverse().join(o) }) : Mt, a = e.currency, M = e.decimal, A = e.numerals ? (t = e.numerals, function (e) { return e.replace(/[0-9]/g, function (e) { return t[+e] }) }) : Mt, r = e.percent || "%"; function f(e) {
            var u = (e = yt(e)).fill, l = e.align, s = e.sign, t = e.symbol, d = e.zero, h = e.width, b = e.comma, g = e.precision, p = e.trim, m = e.type;
            // The "n" type is an alias for ",g".
            "n" === m ? (b = !0, m = "g") : _t[m] || (null == g && (g = 12), p = !0, m = "g"),
            // If zero fill is specified, padding goes after sign and before digits.
            (d || "0" === u && "=" === l) && (d = !0, u = "0", l = "=");
            // Compute the prefix and suffix.
            // For SI-prefix, the suffix is lazily computed.
            var v = "$" === t ? a[0] : "#" === t && /[boxX]/.test(m) ? "0" + m.toLowerCase() : "", y = "$" === t ? a[1] : /[%p]/.test(m) ? r : "", w = _t[m], x = /[defgprs%]/.test(m);
            // What format function should we use?
            // Is this an integer type?
            // Can this type generate exponential notation?
            function n(e) {
                var t, n, a, r = v, i = y; if ("c" === m) i = w(e) + i, e = ""; else {
                    // Perform the initial formatting.
                    var f = (e = +e) < 0;
                    // Break the formatted value into the integer “value” part that can be
                    // grouped, and fractional or exponential “suffix” part that is not.
                    if (e = w(Math.abs(e), g),
                        // Trim insignificant zeros.
                    p && (e =
                        // Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.
                    function (e) { e: for (var t, n = e.length, a = 1, r = -1; a < n; ++a) switch (e[a]) { case ".": r = t = a; break; case "0": 0 === r && (r = a), t = a; break; default: if (0 < r) { if (!+e[a]) break e; r = 0 } } return 0 < r ? e.slice(0, r) + e.slice(t + 1) : e }(e)),
                        // If a negative value rounds to zero during formatting, treat as positive.
                    f && 0 == +e && (f = !1),
                        // Compute the prefix and suffix.
                    r = (f ? "(" === s ? s : "-" : "-" === s || "(" === s ? "" : s) + r, i = ("s" === m ? Dt[8 + mt / 3] : "") + i + (f && "(" === s ? ")" : ""), x) for (t = -1, n = e.length; ++t < n;) if ((a = e.charCodeAt(t)) < 48 || 57 < a) { i = (46 === a ? M + e.slice(t + 1) : e.slice(t)) + i, e = e.slice(0, t); break }
                }
                // If the fill character is not "0", grouping is applied before padding.
                b && !d && (e = _(e, 1 / 0));
                // Compute the padding.
                var c = r.length + e.length + i.length, o = c < h ? new Array(h - c + 1).join(u) : "";
                // If the fill character is "0", grouping is applied after padding.
                // Reconstruct the final output based on the desired alignment.
                switch (b && d && (e = _(o + e, o.length ? h - i.length : 1 / 0), o = ""), l) { case "<": e = r + e + i + o; break; case "=": e = r + o + e + i; break; case "^": e = o.slice(0, c = o.length >> 1) + r + e + i + o.slice(c); break; default: e = o + r + e + i } return A(e)
            }
            // Set the default precision if not specified,
            // or clamp the specified precision to the supported range.
            // For significant precision, it must be in [1, 21].
            // For fixed precision, it must be in [0, 20].
            return g = null == g ? 6 : /[gprs]/.test(m) ? Math.max(1, Math.min(21, g)) : Math.max(0, Math.min(20, g)), n.toString = function () { return e + "" }, n
        } return { format: f, formatPrefix: function (e, t) { var n = f(((e = yt(e)).type = "f", e)), a = 3 * Math.max(-8, Math.min(8, Math.floor(pt(t) / 3))), r = Math.pow(10, -a), i = Dt[8 + a / 3]; return function (e) { return n(r * e) + i } } }
    } function Ct(e) { return Math.max(0, -pt(Math.abs(e))) } function zt(e, t) { return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(pt(t) / 3))) - pt(Math.abs(e))) } function Ft(e, t) { return e = Math.abs(e), t = Math.abs(t) - e, Math.max(0, pt(t) - pt(e)) + 1 } function Nt(c) { var o = c.domain; return c.ticks = function (e) { var t = o(); return r(t[0], t[t.length - 1], null == e ? 10 : e) }, c.tickFormat = function (e, t) { return function (e, t, n) { var a, r = e[0], i = e[e.length - 1], f = S(r, i, null == t ? 10 : t); switch ((n = yt(null == n ? ",f" : n)).type) { case "s": var c = Math.max(Math.abs(r), Math.abs(i)); return null != n.precision || isNaN(a = zt(f, c)) || (n.precision = a), kt(n, c); case "": case "e": case "g": case "p": case "r": null != n.precision || isNaN(a = Ft(f, Math.max(Math.abs(r), Math.abs(i)))) || (n.precision = a - ("e" === n.type)); break; case "f": case "%": null != n.precision || isNaN(a = Ct(f)) || (n.precision = a - 2 * ("%" === n.type)) } return St(n) }(o(), e, t) }, c.nice = function (e) { null == e && (e = 10); var t, n = o(), a = 0, r = n.length - 1, i = n[a], f = n[r]; return f < i && (t = i, i = f, f = t, t = a, a = r, r = t), 0 < (t = s(i, f, e)) ? t = s(i = Math.floor(i / t) * t, f = Math.ceil(f / t) * t, e) : t < 0 && (t = s(i = Math.ceil(i * t) / t, f = Math.floor(f * t) / t, e)), 0 < t ? (n[a] = Math.floor(i / t) * t, n[r] = Math.ceil(f / t) * t, o(n)) : t < 0 && (n[a] = Math.ceil(i * t) / t, n[r] = Math.floor(f * t) / t, o(n)), c }, c } At = Tt({ decimal: ".", thousands: ",", grouping: [3], currency: ["$", ""] }), St = At.format, kt = At.formatPrefix; var Ht = new Date, Rt = new Date; function Lt(i, f, n, a) {
        function c(e) { return i(e = new Date(+e)), e } return (c.floor = c).ceil = function (e) { return i(e = new Date(e - 1)), f(e, 1), i(e), e }, c.round = function (e) { var t = c(e), n = c.ceil(e); return e - t < n - e ? t : n }, c.offset = function (e, t) { return f(e = new Date(+e), null == t ? 1 : Math.floor(t)), e }, c.range = function (e, t, n) {
            var a, r = []; if (e = c.ceil(e), n = null == n ? 1 : Math.floor(n), !(e < t && 0 < n)) return r;// also handles Invalid Date
            for (; r.push(a = new Date(+e)), f(e, n), i(e), a < e && e < t;); return r
        }, c.filter = function (n) {
            return Lt(function (e) { if (e <= e) for (; i(e), !n(e) ;) e.setTime(e - 1) }, function (e, t) {
                if (e <= e) if (t < 0) for (; ++t <= 0;) for (; f(e, -1), !n(e) ;);// eslint-disable-line no-empty
                else for (; 0 <= --t;) for (; f(e, 1), !n(e) ;);// eslint-disable-line no-empty
            })
        }, n && (c.count = function (e, t) { return Ht.setTime(+e), Rt.setTime(+t), i(Ht), i(Rt), Math.floor(n(Ht, Rt)) }, c.every = function (t) { return t = Math.floor(t), isFinite(t) && 0 < t ? 1 < t ? c.filter(a ? function (e) { return a(e) % t == 0 } : function (e) { return c.count(0, e) % t == 0 }) : c : null }), c
    } var Ut = Lt(function () {
        // noop
    }, function (e, t) { e.setTime(+e + t) }, function (e, t) { return t - e });
    // An optimized implementation for this simple case.
    Ut.every = function (n) { return n = Math.floor(n), isFinite(n) && 0 < n ? 1 < n ? Lt(function (e) { e.setTime(Math.floor(e / n) * n) }, function (e, t) { e.setTime(+e + t * n) }, function (e, t) { return (t - e) / n }) : Ut : null }; Ut.range; var Et = 6e4, Yt = 36e5, Ot = Lt(function (e) { e.setTime(1e3 * Math.floor(e / 1e3)) }, function (e, t) { e.setTime(+e + 1e3 * t) }, function (e, t) { return (t - e) / 1e3 }, function (e) { return e.getUTCSeconds() }), Pt = (Ot.range, Lt(function (e) { e.setTime(Math.floor(e / Et) * Et) }, function (e, t) { e.setTime(+e + t * Et) }, function (e, t) { return (t - e) / Et }, function (e) { return e.getMinutes() })), It = (Pt.range, Lt(function (e) { var t = e.getTimezoneOffset() * Et % Yt; t < 0 && (t += Yt), e.setTime(Math.floor((+e - t) / Yt) * Yt + t) }, function (e, t) { e.setTime(+e + t * Yt) }, function (e, t) { return (t - e) / Yt }, function (e) { return e.getHours() })), Xt = (It.range, Lt(function (e) { e.setHours(0, 0, 0, 0) }, function (e, t) { e.setDate(e.getDate() + t) }, function (e, t) { return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * Et) / 864e5 }, function (e) { return e.getDate() - 1 })); Xt.range; function jt(t) { return Lt(function (e) { e.setDate(e.getDate() - (e.getDay() + 7 - t) % 7), e.setHours(0, 0, 0, 0) }, function (e, t) { e.setDate(e.getDate() + 7 * t) }, function (e, t) { return (t - e - (t.getTimezoneOffset() - e.getTimezoneOffset()) * Et) / 6048e5 }) } var qt = jt(0), Vt = jt(1), Bt = (jt(2), jt(3), jt(4)), Wt = (jt(5), jt(6), qt.range, Vt.range, Bt.range, Lt(function (e) { e.setDate(1), e.setHours(0, 0, 0, 0) }, function (e, t) { e.setMonth(e.getMonth() + t) }, function (e, t) { return t.getMonth() - e.getMonth() + 12 * (t.getFullYear() - e.getFullYear()) }, function (e) { return e.getMonth() })), Gt = (Wt.range, Lt(function (e) { e.setMonth(0, 1), e.setHours(0, 0, 0, 0) }, function (e, t) { e.setFullYear(e.getFullYear() + t) }, function (e, t) { return t.getFullYear() - e.getFullYear() }, function (e) { return e.getFullYear() }));
    // An optimized implementation for this simple case.
    Gt.every = function (n) { return isFinite(n = Math.floor(n)) && 0 < n ? Lt(function (e) { e.setFullYear(Math.floor(e.getFullYear() / n) * n), e.setMonth(0, 1), e.setHours(0, 0, 0, 0) }, function (e, t) { e.setFullYear(e.getFullYear() + t * n) }) : null }; Gt.range; var $t = Lt(function (e) { e.setUTCSeconds(0, 0) }, function (e, t) { e.setTime(+e + t * Et) }, function (e, t) { return (t - e) / Et }, function (e) { return e.getUTCMinutes() }), Zt = ($t.range, Lt(function (e) { e.setUTCMinutes(0, 0, 0) }, function (e, t) { e.setTime(+e + t * Yt) }, function (e, t) { return (t - e) / Yt }, function (e) { return e.getUTCHours() })), Qt = (Zt.range, Lt(function (e) { e.setUTCHours(0, 0, 0, 0) }, function (e, t) { e.setUTCDate(e.getUTCDate() + t) }, function (e, t) { return (t - e) / 864e5 }, function (e) { return e.getUTCDate() - 1 })); Qt.range; function Jt(t) { return Lt(function (e) { e.setUTCDate(e.getUTCDate() - (e.getUTCDay() + 7 - t) % 7), e.setUTCHours(0, 0, 0, 0) }, function (e, t) { e.setUTCDate(e.getUTCDate() + 7 * t) }, function (e, t) { return (t - e) / 6048e5 }) } var Kt = Jt(0), en = Jt(1), tn = (Jt(2), Jt(3), Jt(4)), nn = (Jt(5), Jt(6), Kt.range, en.range, tn.range, Lt(function (e) { e.setUTCDate(1), e.setUTCHours(0, 0, 0, 0) }, function (e, t) { e.setUTCMonth(e.getUTCMonth() + t) }, function (e, t) { return t.getUTCMonth() - e.getUTCMonth() + 12 * (t.getUTCFullYear() - e.getUTCFullYear()) }, function (e) { return e.getUTCMonth() })), an = (nn.range, Lt(function (e) { e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0) }, function (e, t) { e.setUTCFullYear(e.getUTCFullYear() + t) }, function (e, t) { return t.getUTCFullYear() - e.getUTCFullYear() }, function (e) { return e.getUTCFullYear() }));
    // An optimized implementation for this simple case.
    an.every = function (n) { return isFinite(n = Math.floor(n)) && 0 < n ? Lt(function (e) { e.setUTCFullYear(Math.floor(e.getUTCFullYear() / n) * n), e.setUTCMonth(0, 1), e.setUTCHours(0, 0, 0, 0) }, function (e, t) { e.setUTCFullYear(e.getUTCFullYear() + t * n) }) : null }; an.range; function rn(e) { if (0 <= e.y && e.y < 100) { var t = new Date(-1, e.m, e.d, e.H, e.M, e.S, e.L); return t.setFullYear(e.y), t } return new Date(e.y, e.m, e.d, e.H, e.M, e.S, e.L) } function fn(e) { if (0 <= e.y && e.y < 100) { var t = new Date(Date.UTC(-1, e.m, e.d, e.H, e.M, e.S, e.L)); return t.setUTCFullYear(e.y), t } return new Date(Date.UTC(e.y, e.m, e.d, e.H, e.M, e.S, e.L)) } function cn(e) { return { y: e, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0 } } var on, un, ln, sn, dn, hn = { "-": "", _: " ", 0: "0" }, bn = /^\s*\d+/,// note: ignores next directive
    gn = /^%/, pn = /[\\^$*+?|[\]().{}]/g; function mn(e, t, n) { var a = e < 0 ? "-" : "", r = (a ? -e : e) + "", i = r.length; return a + (i < n ? new Array(n - i + 1).join(t) + r : r) } function vn(e) { return e.replace(pn, "\\$&") } function yn(e) { return new RegExp("^(?:" + e.map(vn).join("|") + ")", "i") } function wn(e) { for (var t = {}, n = -1, a = e.length; ++n < a;) t[e[n].toLowerCase()] = n; return t } function xn(e, t, n) { var a = bn.exec(t.slice(n, n + 1)); return a ? (e.w = +a[0], n + a[0].length) : -1 } function _n(e, t, n) { var a = bn.exec(t.slice(n, n + 1)); return a ? (e.u = +a[0], n + a[0].length) : -1 } function Mn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.U = +a[0], n + a[0].length) : -1 } function An(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.V = +a[0], n + a[0].length) : -1 } function Sn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.W = +a[0], n + a[0].length) : -1 } function kn(e, t, n) { var a = bn.exec(t.slice(n, n + 4)); return a ? (e.y = +a[0], n + a[0].length) : -1 } function Dn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.y = +a[0] + (68 < +a[0] ? 1900 : 2e3), n + a[0].length) : -1 } function Tn(e, t, n) { var a = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n, n + 6)); return a ? (e.Z = a[1] ? 0 : -(a[2] + (a[3] || "00")), n + a[0].length) : -1 } function Cn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.m = a[0] - 1, n + a[0].length) : -1 } function zn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.d = +a[0], n + a[0].length) : -1 } function Fn(e, t, n) { var a = bn.exec(t.slice(n, n + 3)); return a ? (e.m = 0, e.d = +a[0], n + a[0].length) : -1 } function Nn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.H = +a[0], n + a[0].length) : -1 } function Hn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.M = +a[0], n + a[0].length) : -1 } function Rn(e, t, n) { var a = bn.exec(t.slice(n, n + 2)); return a ? (e.S = +a[0], n + a[0].length) : -1 } function Ln(e, t, n) { var a = bn.exec(t.slice(n, n + 3)); return a ? (e.L = +a[0], n + a[0].length) : -1 } function Un(e, t, n) { var a = bn.exec(t.slice(n, n + 6)); return a ? (e.L = Math.floor(a[0] / 1e3), n + a[0].length) : -1 } function En(e, t, n) { var a = gn.exec(t.slice(n, n + 1)); return a ? n + a[0].length : -1 } function Yn(e, t, n) { var a = bn.exec(t.slice(n)); return a ? (e.Q = +a[0], n + a[0].length) : -1 } function On(e, t, n) { var a = bn.exec(t.slice(n)); return a ? (e.Q = 1e3 * +a[0], n + a[0].length) : -1 } function Pn(e, t) { return mn(e.getDate(), t, 2) } function In(e, t) { return mn(e.getHours(), t, 2) } function Xn(e, t) { return mn(e.getHours() % 12 || 12, t, 2) } function jn(e, t) { return mn(1 + Xt.count(Gt(e), e), t, 3) } function qn(e, t) { return mn(e.getMilliseconds(), t, 3) } function Vn(e, t) { return qn(e, t) + "000" } function Bn(e, t) { return mn(e.getMonth() + 1, t, 2) } function Wn(e, t) { return mn(e.getMinutes(), t, 2) } function Gn(e, t) { return mn(e.getSeconds(), t, 2) } function $n(e) { var t = e.getDay(); return 0 === t ? 7 : t } function Zn(e, t) { return mn(qt.count(Gt(e), e), t, 2) } function Qn(e, t) { var n = e.getDay(); return e = 4 <= n || 0 === n ? Bt(e) : Bt.ceil(e), mn(Bt.count(Gt(e), e) + (4 === Gt(e).getDay()), t, 2) } function Jn(e) { return e.getDay() } function Kn(e, t) { return mn(Vt.count(Gt(e), e), t, 2) } function ea(e, t) { return mn(e.getFullYear() % 100, t, 2) } function ta(e, t) { return mn(e.getFullYear() % 1e4, t, 4) } function na(e) { var t = e.getTimezoneOffset(); return (0 < t ? "-" : (t *= -1, "+")) + mn(t / 60 | 0, "0", 2) + mn(t % 60, "0", 2) } function aa(e, t) { return mn(e.getUTCDate(), t, 2) } function ra(e, t) { return mn(e.getUTCHours(), t, 2) } function ia(e, t) { return mn(e.getUTCHours() % 12 || 12, t, 2) } function fa(e, t) { return mn(1 + Qt.count(an(e), e), t, 3) } function ca(e, t) { return mn(e.getUTCMilliseconds(), t, 3) } function oa(e, t) { return ca(e, t) + "000" } function ua(e, t) { return mn(e.getUTCMonth() + 1, t, 2) } function la(e, t) { return mn(e.getUTCMinutes(), t, 2) } function sa(e, t) { return mn(e.getUTCSeconds(), t, 2) } function da(e) { var t = e.getUTCDay(); return 0 === t ? 7 : t } function ha(e, t) { return mn(Kt.count(an(e), e), t, 2) } function ba(e, t) { var n = e.getUTCDay(); return e = 4 <= n || 0 === n ? tn(e) : tn.ceil(e), mn(tn.count(an(e), e) + (4 === an(e).getUTCDay()), t, 2) } function ga(e) { return e.getUTCDay() } function pa(e, t) { return mn(en.count(an(e), e), t, 2) } function ma(e, t) { return mn(e.getUTCFullYear() % 100, t, 2) } function va(e, t) { return mn(e.getUTCFullYear() % 1e4, t, 4) } function ya() { return "+0000" } function wa() { return "%" } function xa(e) { return +e } function _a(e) { return Math.floor(+e / 1e3) } on = function (e) {
        var a = e.dateTime, r = e.date, i = e.time, t = e.periods, n = e.days, f = e.shortDays, c = e.months, o = e.shortMonths, u = yn(t), l = wn(t), s = yn(n), d = wn(n), h = yn(f), b = wn(f), g = yn(c), p = wn(c), m = yn(o), v = wn(o), y = { a: function (e) { return f[e.getDay()] }, A: function (e) { return n[e.getDay()] }, b: function (e) { return o[e.getMonth()] }, B: function (e) { return c[e.getMonth()] }, c: null, d: Pn, e: Pn, f: Vn, H: In, I: Xn, j: jn, L: qn, m: Bn, M: Wn, p: function (e) { return t[+(12 <= e.getHours())] }, Q: xa, s: _a, S: Gn, u: $n, U: Zn, V: Qn, w: Jn, W: Kn, x: null, X: null, y: ea, Y: ta, Z: na, "%": wa }, w = { a: function (e) { return f[e.getUTCDay()] }, A: function (e) { return n[e.getUTCDay()] }, b: function (e) { return o[e.getUTCMonth()] }, B: function (e) { return c[e.getUTCMonth()] }, c: null, d: aa, e: aa, f: oa, H: ra, I: ia, j: fa, L: ca, m: ua, M: la, p: function (e) { return t[+(12 <= e.getUTCHours())] }, Q: xa, s: _a, S: sa, u: da, U: ha, V: ba, w: ga, W: pa, x: null, X: null, y: ma, Y: va, Z: ya, "%": wa }, x = { a: function (e, t, n) { var a = h.exec(t.slice(n)); return a ? (e.w = b[a[0].toLowerCase()], n + a[0].length) : -1 }, A: function (e, t, n) { var a = s.exec(t.slice(n)); return a ? (e.w = d[a[0].toLowerCase()], n + a[0].length) : -1 }, b: function (e, t, n) { var a = m.exec(t.slice(n)); return a ? (e.m = v[a[0].toLowerCase()], n + a[0].length) : -1 }, B: function (e, t, n) { var a = g.exec(t.slice(n)); return a ? (e.m = p[a[0].toLowerCase()], n + a[0].length) : -1 }, c: function (e, t, n) { return A(e, a, t, n) }, d: zn, e: zn, f: Un, H: Nn, I: Nn, j: Fn, L: Ln, m: Cn, M: Hn, p: function (e, t, n) { var a = u.exec(t.slice(n)); return a ? (e.p = l[a[0].toLowerCase()], n + a[0].length) : -1 }, Q: Yn, s: On, S: Rn, u: _n, U: Mn, V: An, w: xn, W: Sn, x: function (e, t, n) { return A(e, r, t, n) }, X: function (e, t, n) { return A(e, i, t, n) }, y: Dn, Y: kn, Z: Tn, "%": En }; function _(o, u) { return function (e) { var t, n, a, r = [], i = -1, f = 0, c = o.length; for (e instanceof Date || (e = new Date(+e)) ; ++i < c;) 37 === o.charCodeAt(i) && (r.push(o.slice(f, i)), null != (n = hn[t = o.charAt(++i)]) ? t = o.charAt(++i) : n = "e" === t ? " " : "0", (a = u[t]) && (t = a(e, n)), r.push(t), f = i + 1); return r.push(o.slice(f, i)), r.join("") } } function M(r, i) {
            return function (e) {
                var t, n, a = cn(1900); if (A(a, r, e += "", 0) != e.length) return null;
                // If a UNIX timestamp is specified, return it.
                if ("Q" in a) return new Date(a.Q);
                // The am-pm flag is 0 for AM, and 1 for PM.
                // Convert day-of-week and week-of-year to day-of-year.
                if ("p" in a && (a.H = a.H % 12 + 12 * a.p), "V" in a) { if (a.V < 1 || 53 < a.V) return null; "w" in a || (a.w = 1), a.d = "Z" in a ? (t = 4 < (n = (t = fn(cn(a.y))).getUTCDay()) || 0 === n ? en.ceil(t) : en(t), t = Qt.offset(t, 7 * (a.V - 1)), a.y = t.getUTCFullYear(), a.m = t.getUTCMonth(), t.getUTCDate() + (a.w + 6) % 7) : (t = 4 < (n = (t = i(cn(a.y))).getDay()) || 0 === n ? Vt.ceil(t) : Vt(t), t = Xt.offset(t, 7 * (a.V - 1)), a.y = t.getFullYear(), a.m = t.getMonth(), t.getDate() + (a.w + 6) % 7) } else ("W" in a || "U" in a) && ("w" in a || (a.w = "u" in a ? a.u % 7 : "W" in a ? 1 : 0), n = "Z" in a ? fn(cn(a.y)).getUTCDay() : i(cn(a.y)).getDay(), a.m = 0, a.d = "W" in a ? (a.w + 6) % 7 + 7 * a.W - (n + 5) % 7 : a.w + 7 * a.U - (n + 6) % 7);
                // If a time zone is specified, all fields are interpreted as UTC and then
                // offset according to the specified time zone.
                return "Z" in a ? (a.H += a.Z / 100 | 0, a.M += a.Z % 100, fn(a)) : i(a);
                // Otherwise, all fields are in local time.
            }
        } function A(e, t, n, a) { for (var r, i, f = 0, c = t.length, o = n.length; f < c;) { if (o <= a) return -1; if (37 === (r = t.charCodeAt(f++))) { if (r = t.charAt(f++), !(i = x[r in hn ? t.charAt(f++) : r]) || (a = i(e, n, a)) < 0) return -1 } else if (r != n.charCodeAt(a++)) return -1 } return a } return
        // These recursive directive definitions must be deferred.
        y.x = _(r, y), y.X = _(i, y), y.c = _(a, y), w.x = _(r, w), w.X = _(i, w), w.c = _(a, w), { format: function (e) { var t = _(e += "", y); return t.toString = function () { return e }, t }, parse: function (e) { var t = M(e += "", rn); return t.toString = function () { return e }, t }, utcFormat: function (e) { var t = _(e += "", w); return t.toString = function () { return e }, t }, utcParse: function (e) { var t = M(e, fn); return t.toString = function () { return e }, t } }
    }({ dateTime: "%x, %X", date: "%-m/%-d/%Y", time: "%-I:%M:%S %p", periods: ["AM", "PM"], days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }), un = on.format, ln = on.parse, sn = on.utcFormat, dn = on.utcParse; var Ma = "%Y-%m-%dT%H:%M:%S.%LZ"; Date.prototype.toISOString || sn(Ma); +new Date("2000-01-01T00:00:00.000Z") || dn(Ma); var Aa = 1e3, Sa = 60 * Aa, ka = 60 * Sa, Da = 24 * ka, Ta = 7 * Da, Ca = 30 * Da, za = 365 * Da; function Fa(e) { return new Date(e) } function Na(e) { return e instanceof Date ? +e : +new Date(+e) } function Ha(f, t, n, a, r, i, c, o, u) {
        var l = bt(lt, qe), s = l.invert, d = l.domain, h = u(".%L"), b = u(":%S"), g = u("%I:%M"), p = u("%I %p"), m = u("%a %d"), v = u("%b %d"), y = u("%B"), w = u("%Y"), x = [[c, 1, Aa], [c, 5, 5 * Aa], [c, 15, 15 * Aa], [c, 30, 30 * Aa], [i, 1, Sa], [i, 5, 5 * Sa], [i, 15, 15 * Sa], [i, 30, 30 * Sa], [r, 1, ka], [r, 3, 3 * ka], [r, 6, 6 * ka], [r, 12, 12 * ka], [a, 1, Da], [a, 2, 2 * Da], [n, 1, Ta], [t, 1, Ca], [t, 3, 3 * Ca], [f, 1, za]]; function _(e) { return (c(e) < e ? h : i(e) < e ? b : r(e) < e ? g : a(e) < e ? p : t(e) < e ? n(e) < e ? m : v : f(e) < e ? y : w)(e) } function M(e, t, n, a) {
            // If a desired tick count is specified, pick a reasonable tick interval
            // based on the extent of the domain and a rough estimate of tick size.
            // Otherwise, assume interval is already a time interval and use it.
            if (null == e && (e = 10), "number" == typeof e) { var r = Math.abs(n - t) / e, i = A(function (e) { return e[2] }).right(x, r); e = i === x.length ? (a = S(t / za, n / za, e), f) : i ? (a = (i = x[r / x[i - 1][2] < x[i][2] / r ? i - 1 : i])[1], i[0]) : (a = Math.max(S(t, n, e), 1), o) } return null == a ? e : e.every(a)
        } return l.invert = function (e) { return new Date(s(e)) }, l.domain = function (e) { return arguments.length ? d(L.call(e, Na)) : d().map(Fa) }, l.ticks = function (e, t) {
            var n, a = d(), r = a[0], i = a[a.length - 1], f = i < r;// inclusive stop
            return f && (n = r, r = i, i = n), n = (n = M(e, r, i, t)) ? n.range(r, i + 1) : [], f ? n.reverse() : n
        }, l.tickFormat = function (e, t) { return null == t ? _ : u(t) }, l.nice = function (e, t) { var n, a, r, i, f, c, o, u = d(); return (e = M(e, u[0], u[u.length - 1], t)) ? d((a = e, i = 0, f = (n = (n = u).slice()).length - 1, c = n[i], (o = n[f]) < c && (r = i, i = f, f = r, r = c, c = o, o = r), n[i] = a.floor(c), n[f] = a.ceil(o), n)) : l }, l.copy = function () { return ht(l, Ha(f, t, n, a, r, i, c, o, u)) }, l
    } function Ra(n) { var a = 0, t = 1, r = 1, i = !1; function f(e) { var t = (e - a) * r; return n(i ? Math.max(0, Math.min(1, t)) : t) } return f.domain = function (e) { return arguments.length ? (a = +e[0], t = +e[1], r = a === t ? 0 : 1 / (t - a), f) : [a, t] }, f.clamp = function (e) { return arguments.length ? (i = !!e, f) : i }, f.interpolator = function (e) { return arguments.length ? (n = e, f) : n }, f.copy = function () { return Ra(n).domain([a, t]).clamp(i) }, Nt(f) } var La = "http://www.w3.org/1999/xhtml", Ua = { svg: "http://www.w3.org/2000/svg", xhtml: La, xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }; function Ea(e) { var t = e += "", n = t.indexOf(":"); return 0 <= n && "xmlns" !== (t = e.slice(0, n)) && (e = e.slice(n + 1)), Ua.hasOwnProperty(t) ? { space: Ua[t], local: e } : e } function Ya(e) { var t = Ea(e); return (t.local ? function (e) { return function () { return this.ownerDocument.createElementNS(e.space, e.local) } } : function (n) { return function () { var e = this.ownerDocument, t = this.namespaceURI; return t === La && e.documentElement.namespaceURI === La ? e.createElement(n) : e.createElementNS(t, n) } })(t) } function Oa() { } function Pa(e) { return null == e ? Oa : function () { return this.querySelector(e) } } function Ia() { return [] } function Xa(e) { return null == e ? Ia : function () { return this.querySelectorAll(e) } } var ja = function (e) { return function () { return this.matches(e) } }; if ("undefined" != typeof document) { var qa = document.documentElement; if (!qa.matches) { var Va = qa.webkitMatchesSelector || qa.msMatchesSelector || qa.mozMatchesSelector || qa.oMatchesSelector; ja = function (e) { return function () { return Va.call(this, e) } } } } var Ba = ja; function Wa(e) { return new Array(e.length) } function Ga(e, t) { this.ownerDocument = e.ownerDocument, this.namespaceURI = e.namespaceURI, this._next = null, this._parent = e, this.__data__ = t } Ga.prototype = { constructor: Ga, appendChild: function (e) { return this._parent.insertBefore(e, this._next) }, insertBefore: function (e, t) { return this._parent.insertBefore(e, t) }, querySelector: function (e) { return this._parent.querySelector(e) }, querySelectorAll: function (e) { return this._parent.querySelectorAll(e) } }; var $a = "$";// Protect against keys like “__proto__”.
    function Za(e, t, n, a, r, i) {
        // Put any non-null nodes that fit into update.
        // Put any null nodes into enter.
        // Put any remaining data into enter.
        for (var f, c = 0, o = t.length, u = i.length; c < u; ++c) (f = t[c]) ? (f.__data__ = i[c], a[c] = f) : n[c] = new Ga(e, i[c]);
        // Put any non-null nodes that don’t fit into exit.
        for (; c < o; ++c) (f = t[c]) && (r[c] = f)
    } function Qa(e, t, n, a, r, i, f) {
        var c, o, u, l = {}, s = t.length, d = i.length, h = new Array(s);
        // Compute the key for each node.
        // If multiple nodes have the same key, the duplicates are added to exit.
        for (c = 0; c < s; ++c) (o = t[c]) && (h[c] = u = $a + f.call(o, o.__data__, c, t), u in l ? r[c] = o : l[u] = o);
        // Compute the key for each datum.
        // If there a node associated with this key, join and add it to update.
        // If there is not (or the key is a duplicate), add it to enter.
        for (c = 0; c < d; ++c) (o = l[u = $a + f.call(e, i[c], c, i)]) ? ((a[c] = o).__data__ = i[c], l[u] = null) : n[c] = new Ga(e, i[c]);
        // Add any remaining nodes that were not bound to data to exit.
        for (c = 0; c < s; ++c) (o = t[c]) && l[h[c]] === o && (r[c] = o)
    } function Ja(e, t) { return e < t ? -1 : t < e ? 1 : t <= e ? 0 : NaN } function Ka(e) {
        return e.ownerDocument && e.ownerDocument.defaultView || e.document && e || e.defaultView;// node is a Document
    } function er(e, t) { return e.style.getPropertyValue(t) || Ka(e).getComputedStyle(e, null).getPropertyValue(t) } function tr(e) { return e.trim().split(/^|\s+/) } function nr(e) { return e.classList || new ar(e) } function ar(e) { this._node = e, this._names = tr(e.getAttribute("class") || "") } function rr(e, t) { for (var n = nr(e), a = -1, r = t.length; ++a < r;) n.add(t[a]) } function ir(e, t) { for (var n = nr(e), a = -1, r = t.length; ++a < r;) n.remove(t[a]) } function fr() { this.textContent = "" } function cr() { this.innerHTML = "" } function or() { this.nextSibling && this.parentNode.appendChild(this) } function ur() { this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild) } function lr() { return null } function sr() { var e = this.parentNode; e && e.removeChild(this) } function dr() { return this.parentNode.insertBefore(this.cloneNode(!1), this.nextSibling) } function hr() { return this.parentNode.insertBefore(this.cloneNode(!0), this.nextSibling) } ar.prototype = { add: function (e) { this._names.indexOf(e) < 0 && (this._names.push(e), this._node.setAttribute("class", this._names.join(" "))) }, remove: function (e) { var t = this._names.indexOf(e); 0 <= t && (this._names.splice(t, 1), this._node.setAttribute("class", this._names.join(" "))) }, contains: function (e) { return 0 <= this._names.indexOf(e) } }; var br = {}, gr = null; "undefined" != typeof document && ("onmouseenter" in document.documentElement || (br = { mouseenter: "mouseover", mouseleave: "mouseout" })); function pr(n, e, t) { return n = mr(n, e, t), function (e) { var t = e.relatedTarget; t && (t === this || 8 & t.compareDocumentPosition(this)) || n.call(this, e) } } function mr(n, a, r) {
        return function (e) {
            var t = gr;// Events can be reentrant (e.g., focus).
            gr = e; try { n.call(this, this.__data__, a, r) } finally { gr = t }
        }
    } function vr(i) { return function () { var e = this.__on; if (e) { for (var t, n = 0, a = -1, r = e.length; n < r; ++n) t = e[n], i.type && t.type !== i.type || t.name !== i.name ? e[++a] = t : this.removeEventListener(t.type, t.listener, t.capture); ++a ? e.length = a : delete this.__on } } } function yr(o, u, l) { var s = br.hasOwnProperty(o.type) ? pr : mr; return function (e, t, n) { var a, r = this.__on, i = s(u, t, n); if (r) for (var f = 0, c = r.length; f < c; ++f) if ((a = r[f]).type === o.type && a.name === o.name) return this.removeEventListener(a.type, a.listener, a.capture), this.addEventListener(a.type, a.listener = i, a.capture = l), void (a.value = u); this.addEventListener(o.type, i, l), a = { type: o.type, name: o.name, value: u, listener: i, capture: l }, r ? r.push(a) : this.__on = [a] } } function wr(e, t, n) { var a = Ka(e), r = a.CustomEvent; "function" == typeof r ? r = new r(t, n) : (r = a.document.createEvent("Event"), n ? (r.initEvent(t, n.bubbles, n.cancelable), r.detail = n.detail) : r.initEvent(t, !1, !1)), e.dispatchEvent(r) } var xr = [null]; function _r(e, t) { this._groups = e, this._parents = t } function Mr() { return new _r([[document.documentElement]], xr) } function Ar(e) { return "string" == typeof e ? new _r([[document.querySelector(e)]], [document.documentElement]) : new _r([[e]], xr) } function Sr(e) { var t = function () { for (var e, t = gr; e = t.sourceEvent;) t = e; return t }(); return t.changedTouches && (t = t.changedTouches[0]), function (e, t) { var n = e.ownerSVGElement || e; if (n.createSVGPoint) { var a = n.createSVGPoint(); return a.x = t.clientX, a.y = t.clientY, [(a = a.matrixTransform(e.getScreenCTM().inverse())).x, a.y] } var r = e.getBoundingClientRect(); return [t.clientX - r.left - e.clientLeft, t.clientY - r.top - e.clientTop] }(e, t) }
    /**
       * d3.tip
       * Copyright (c) 2013-2017 Justin Palmer
       *
       * Tooltips for d3.js SVG visualizations
       */
    // Public - constructs a new tooltip
    //
    // Returns a tip
    function kr() {
        var u = function () { return "n" }, l = function () { return [0, 0] }, s = function () { return " " }, d = document.body, n = e(), a = null, h = null, b = null; function g(e) { var t; t = e.node(), (a = t ? "svg" === t.tagName.toLowerCase() ? t : t.ownerSVGElement : null) && (h = a.createSVGPoint(), d.appendChild(n)) }
        // Public - show the tooltip on the screen
        //
        // Returns a tip
        g.show = function () { var e = Array.prototype.slice.call(arguments); e[e.length - 1] instanceof SVGElement && (b = e.pop()); var t, n = s.apply(this, e), a = l.apply(this, e), r = u.apply(this, e), i = v(), f = m.length, c = document.documentElement.scrollTop || d.scrollTop, o = document.documentElement.scrollLeft || d.scrollLeft; for (i.html(n).style("opacity", 1).style("pointer-events", "all") ; f--;) i.classed(m[f], !1); return t = p.get(r).apply(this), i.classed(r, !0).style("top", t.top + a[0] + c + "px").style("left", t.left + a[1] + o + "px"), g },
        // Public - hide the tooltip
        //
        // Returns a tip
        g.hide = function () { return v().style("opacity", 0).style("pointer-events", "none"), g },
        // Public: Proxy attr calls to the d3 tip container.
        // Sets or gets attribute value.
        //
        // n - name of the attribute
        // v - value of the attribute
        //
        // Returns tip or attribute value
        // eslint-disable-next-line no-unused-vars
        g.attr = function (e, t) { if (arguments.length < 2 && "string" == typeof e) return v().attr(e); var n = Array.prototype.slice.call(arguments); return Mr.prototype.attr.apply(v(), n), g },
        // Public: Proxy style calls to the d3 tip container.
        // Sets or gets a style value.
        //
        // n - name of the property
        // v - value of the property
        //
        // Returns tip or style property value
        // eslint-disable-next-line no-unused-vars
        g.style = function (e, t) { if (arguments.length < 2 && "string" == typeof e) return v().style(e); var n = Array.prototype.slice.call(arguments); return Mr.prototype.style.apply(v(), n), g },
        // Public: Set or get the direction of the tooltip
        //
        // v - One of n(north), s(south), e(east), or w(west), nw(northwest),
        //     sw(southwest), ne(northeast) or se(southeast)
        //
        // Returns tip or direction
        g.direction = function (e) { return arguments.length ? (u = null == e ? e : r(e), g) : u },
        // Public: Sets or gets the offset of the tip
        //
        // v - Array of [x, y] offset
        //
        // Returns offset or
        g.offset = function (e) { return arguments.length ? (l = null == e ? e : r(e), g) : l },
        // Public: sets or gets the html value of the tooltip
        //
        // v - String value of the tip
        //
        // Returns html value or tip
        g.html = function (e) { return arguments.length ? (s = null == e ? e : r(e), g) : s },
        // Public: sets or gets the root element anchor of the tooltip
        //
        // v - root element of the tooltip
        //
        // Returns root node of tip
        g.rootElement = function (e) { return arguments.length ? (d = null == e ? e : r(e), g) : d },
        // Public: destroys the tooltip and removes it from the DOM
        //
        // Returns a tip
        g.destroy = function () { return n && (v().remove(), n = null), g }; var p = x({ n: function () { var e = t(this); return { top: e.n.y - n.offsetHeight, left: e.n.x - n.offsetWidth / 2 } }, s: function () { var e = t(this); return { top: e.s.y, left: e.s.x - n.offsetWidth / 2 } }, e: function () { var e = t(this); return { top: e.e.y - n.offsetHeight / 2, left: e.e.x } }, w: function () { var e = t(this); return { top: e.w.y - n.offsetHeight / 2, left: e.w.x - n.offsetWidth } }, nw: function () { var e = t(this); return { top: e.nw.y - n.offsetHeight, left: e.nw.x - n.offsetWidth } }, ne: function () { var e = t(this); return { top: e.ne.y - n.offsetHeight, left: e.ne.x } }, sw: function () { var e = t(this); return { top: e.sw.y, left: e.sw.x - n.offsetWidth } }, se: function () { var e = t(this); return { top: e.se.y, left: e.se.x } } }), m = p.keys(); function e() { var e = Ar(document.createElement("div")); return e.style("position", "absolute").style("top", 0).style("opacity", 0).style("pointer-events", "none").style("box-sizing", "border-box"), e.node() } function v() {
            return null == n && (n = e(),
            // re-add node to DOM
            d.appendChild(n)), Ar(n)
        }
        // Private - gets the screen coordinates of a shape
        //
        // Given a shape on the screen, will return an SVGPoint for the directions
        // n(north), s(south), e(east), w(west), ne(northeast), se(southeast),
        // nw(northwest), sw(southwest).
        //
        //    +-+-+
        //    |   |
        //    +   +
        //    |   |
        //    +-+-+
        //
        // Returns an Object {n, s, e, w, nw, sw, ne, se}
        function t(e) { for (var t = b || e; null == t.getScreenCTM && null != t.parentNode;) t = t.parentNode; var n = {}, a = t.getScreenCTM(), r = t.getBBox(), i = r.width, f = r.height, c = r.x, o = r.y; return h.x = c, h.y = o, n.nw = h.matrixTransform(a), h.x += i, n.ne = h.matrixTransform(a), h.y += f, n.se = h.matrixTransform(a), h.x -= i, n.sw = h.matrixTransform(a), h.y -= f / 2, n.w = h.matrixTransform(a), h.x += i, n.e = h.matrixTransform(a), h.x -= i / 2, h.y -= f / 2, n.n = h.matrixTransform(a), h.y += f, n.s = h.matrixTransform(a), n }
        // Private - replace D3JS 3.X d3.functor() function
        function r(e) { return "function" == typeof e ? e : function () { return e } } return g
    } function Dr(e) { for (var t = e.length / 6 | 0, n = new Array(t), a = 0; a < t;) n[a] = "#" + e.slice(6 * a, 6 * ++a); return n } _r.prototype = Mr.prototype = {
        constructor: _r, select: function (e) { "function" != typeof e && (e = Pa(e)); for (var t = this._groups, n = t.length, a = new Array(n), r = 0; r < n; ++r) for (var i, f, c = t[r], o = c.length, u = a[r] = new Array(o), l = 0; l < o; ++l) (i = c[l]) && (f = e.call(i, i.__data__, l, c)) && ("__data__" in i && (f.__data__ = i.__data__), u[l] = f); return new _r(a, this._parents) }, selectAll: function (e) { "function" != typeof e && (e = Xa(e)); for (var t = this._groups, n = t.length, a = [], r = [], i = 0; i < n; ++i) for (var f, c = t[i], o = c.length, u = 0; u < o; ++u) (f = c[u]) && (a.push(e.call(f, f.__data__, u, c)), r.push(f)); return new _r(a, r) }, filter: function (e) { "function" != typeof e && (e = Ba(e)); for (var t = this._groups, n = t.length, a = new Array(n), r = 0; r < n; ++r) for (var i, f = t[r], c = f.length, o = a[r] = [], u = 0; u < c; ++u) (i = f[u]) && e.call(i, i.__data__, u, f) && o.push(i); return new _r(a, this._parents) }, data: function (e, t) {
            if (!e) return b = new Array(this.size()), l = -1, this.each(function (e) { b[++l] = e }), b; var n, a = t ? Qa : Za, r = this._parents, i = this._groups; "function" != typeof e && (n = e, e = function () { return n }); for (var f = i.length, c = new Array(f), o = new Array(f), u = new Array(f), l = 0; l < f; ++l) {
                var s = r[l], d = i[l], h = d.length, b = e.call(s, s && s.__data__, l, r), g = b.length, p = o[l] = new Array(g), m = c[l] = new Array(g); a(s, d, p, m, u[l] = new Array(h), b, t);
                // Now connect the enter nodes to their following update node, such that
                // appendChild can insert the materialized enter node before this node,
                // rather than at the end of the parent node.
                for (var v, y, w = 0, x = 0; w < g; ++w) if (v = p[w]) { for (x <= w && (x = w + 1) ; !(y = m[x]) && ++x < g;); v._next = y || null }
            } return (c = new _r(c, r))._enter = o, c._exit = u, c
        }, enter: function () { return new _r(this._enter || this._groups.map(Wa), this._parents) }, exit: function () { return new _r(this._exit || this._groups.map(Wa), this._parents) }, merge: function (e) { for (var t = this._groups, n = e._groups, a = t.length, r = n.length, i = Math.min(a, r), f = new Array(a), c = 0; c < i; ++c) for (var o, u = t[c], l = n[c], s = u.length, d = f[c] = new Array(s), h = 0; h < s; ++h) (o = u[h] || l[h]) && (d[h] = o); for (; c < a; ++c) f[c] = t[c]; return new _r(f, this._parents) }, order: function () { for (var e = this._groups, t = -1, n = e.length; ++t < n;) for (var a, r = e[t], i = r.length - 1, f = r[i]; 0 <= --i;) (a = r[i]) && (f && f !== a.nextSibling && f.parentNode.insertBefore(a, f), f = a); return this }, sort: function (n) { function e(e, t) { return e && t ? n(e.__data__, t.__data__) : !e - !t } n || (n = Ja); for (var t = this._groups, a = t.length, r = new Array(a), i = 0; i < a; ++i) { for (var f, c = t[i], o = c.length, u = r[i] = new Array(o), l = 0; l < o; ++l) (f = c[l]) && (u[l] = f); u.sort(e) } return new _r(r, this._parents).order() }, call: function () { var e = arguments[0]; return arguments[0] = this, e.apply(null, arguments), this }, nodes: function () { var e = new Array(this.size()), t = -1; return this.each(function () { e[++t] = this }), e }, node: function () { for (var e = this._groups, t = 0, n = e.length; t < n; ++t) for (var a = e[t], r = 0, i = a.length; r < i; ++r) { var f = a[r]; if (f) return f } return null }, size: function () { var e = 0; return this.each(function () { ++e }), e }, empty: function () { return !this.node() }, each: function (e) { for (var t = this._groups, n = 0, a = t.length; n < a; ++n) for (var r, i = t[n], f = 0, c = i.length; f < c; ++f) (r = i[f]) && e.call(r, r.__data__, f, i); return this }, attr: function (e, t) { var n = Ea(e); if (arguments.length < 2) { var a = this.node(); return n.local ? a.getAttributeNS(n.space, n.local) : a.getAttribute(n) } return this.each((null == t ? n.local ? function (e) { return function () { this.removeAttributeNS(e.space, e.local) } } : function (e) { return function () { this.removeAttribute(e) } } : "function" == typeof t ? n.local ? function (t, n) { return function () { var e = n.apply(this, arguments); null == e ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, e) } } : function (t, n) { return function () { var e = n.apply(this, arguments); null == e ? this.removeAttribute(t) : this.setAttribute(t, e) } } : n.local ? function (e, t) { return function () { this.setAttributeNS(e.space, e.local, t) } } : function (e, t) { return function () { this.setAttribute(e, t) } })(n, t)) }, style: function (e, t, n) { return 1 < arguments.length ? this.each((null == t ? function (e) { return function () { this.style.removeProperty(e) } } : "function" == typeof t ? function (t, n, a) { return function () { var e = n.apply(this, arguments); null == e ? this.style.removeProperty(t) : this.style.setProperty(t, e, a) } } : function (e, t, n) { return function () { this.style.setProperty(e, t, n) } })(e, t, null == n ? "" : n)) : er(this.node(), e) }, property: function (e, t) { return 1 < arguments.length ? this.each((null == t ? function (e) { return function () { delete this[e] } } : "function" == typeof t ? function (t, n) { return function () { var e = n.apply(this, arguments); null == e ? delete this[t] : this[t] = e } } : function (e, t) { return function () { this[e] = t } })(e, t)) : this.node()[e] }, classed: function (e, t) { var n = tr(e + ""); if (arguments.length < 2) { for (var a = nr(this.node()), r = -1, i = n.length; ++r < i;) if (!a.contains(n[r])) return !1; return !0 } return this.each(("function" == typeof t ? function (e, t) { return function () { (t.apply(this, arguments) ? rr : ir)(this, e) } } : t ? function (e) { return function () { rr(this, e) } } : function (e) { return function () { ir(this, e) } })(n, t)) }, text: function (e) { return arguments.length ? this.each(null == e ? fr : ("function" == typeof e ? function (t) { return function () { var e = t.apply(this, arguments); this.textContent = null == e ? "" : e } } : function (e) { return function () { this.textContent = e } })(e)) : this.node().textContent }, html: function (e) { return arguments.length ? this.each(null == e ? cr : ("function" == typeof e ? function (t) { return function () { var e = t.apply(this, arguments); this.innerHTML = null == e ? "" : e } } : function (e) { return function () { this.innerHTML = e } })(e)) : this.node().innerHTML }, raise: function () { return this.each(or) }, lower: function () { return this.each(ur) }, append: function (e) { var t = "function" == typeof e ? e : Ya(e); return this.select(function () { return this.appendChild(t.apply(this, arguments)) }) }, insert: function (e, t) { var n = "function" == typeof e ? e : Ya(e), a = null == t ? lr : "function" == typeof t ? t : Pa(t); return this.select(function () { return this.insertBefore(n.apply(this, arguments), a.apply(this, arguments) || null) }) }, remove: function () { return this.each(sr) }, clone: function (e) { return this.select(e ? hr : dr) }, datum: function (e) { return arguments.length ? this.property("__data__", e) : this.node().__data__ }, on: function (e, t, n) { var a, r, i = (e + "").trim().split(/^|\s+/).map(function (e) { var t = "", n = e.indexOf("."); return 0 <= n && (t = e.slice(n + 1), e = e.slice(0, n)), { type: e, name: t } }), f = i.length; if (!(arguments.length < 2)) { for (c = t ? yr : vr, null == n && (n = !1), a = 0; a < f; ++a) this.each(c(i[a], t, n)); return this } var c = this.node().__on; if (c) for (var o, u = 0, l = c.length; u < l; ++u) for (a = 0, o = c[u]; a < f; ++a) if ((r = i[a]).type === o.type && r.name === o.name) return o.value }, dispatch: function (e, t) { return this.each(("function" == typeof t ? function (e, t) { return function () { return wr(this, e, t.apply(this, arguments)) } } : function (e, t) { return function () { return wr(this, e, t) } })(e, t)) }
    }; var Tr = Dr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"); Dr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"), Dr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"), Dr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"), Dr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"), Dr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"), Dr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"), Dr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"); var Cr = Dr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"); function zr(e) { return je(e[e.length - 1]) } zr(new Array(3).concat("d8b365f5f5f55ab4ac", "a6611adfc27d80cdc1018571", "a6611adfc27df5f5f580cdc1018571", "8c510ad8b365f6e8c3c7eae55ab4ac01665e", "8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e", "8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e", "8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e", "5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30", "5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Dr)), zr(new Array(3).concat("af8dc3f7f7f77fbf7b", "7b3294c2a5cfa6dba0008837", "7b3294c2a5cff7f7f7a6dba0008837", "762a83af8dc3e7d4e8d9f0d37fbf7b1b7837", "762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837", "762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837", "762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837", "40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b", "40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Dr)), zr(new Array(3).concat("e9a3c9f7f7f7a1d76a", "d01c8bf1b6dab8e1864dac26", "d01c8bf1b6daf7f7f7b8e1864dac26", "c51b7de9a3c9fde0efe6f5d0a1d76a4d9221", "c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221", "c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221", "c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221", "8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419", "8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Dr)), zr(new Array(3).concat("998ec3f7f7f7f1a340", "5e3c99b2abd2fdb863e66101", "5e3c99b2abd2f7f7f7fdb863e66101", "542788998ec3d8daebfee0b6f1a340b35806", "542788998ec3d8daebf7f7f7fee0b6f1a340b35806", "5427888073acb2abd2d8daebfee0b6fdb863e08214b35806", "5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806", "2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08", "2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Dr)), zr(new Array(3).concat("ef8a62f7f7f767a9cf", "ca0020f4a58292c5de0571b0", "ca0020f4a582f7f7f792c5de0571b0", "b2182bef8a62fddbc7d1e5f067a9cf2166ac", "b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac", "b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac", "b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac", "67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061", "67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Dr)), zr(new Array(3).concat("ef8a62ffffff999999", "ca0020f4a582bababa404040", "ca0020f4a582ffffffbababa404040", "b2182bef8a62fddbc7e0e0e09999994d4d4d", "b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d", "b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d", "b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d", "67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a", "67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Dr)); var Fr = zr(new Array(3).concat("fc8d59ffffbf91bfdb", "d7191cfdae61abd9e92c7bb6", "d7191cfdae61ffffbfabd9e92c7bb6", "d73027fc8d59fee090e0f3f891bfdb4575b4", "d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4", "d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4", "d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4", "a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695", "a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Dr)); zr(new Array(3).concat("fc8d59ffffbf91cf60", "d7191cfdae61a6d96a1a9641", "d7191cfdae61ffffbfa6d96a1a9641", "d73027fc8d59fee08bd9ef8b91cf601a9850", "d73027fc8d59fee08bffffbfd9ef8b91cf601a9850", "d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850", "d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850", "a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837", "a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Dr)), zr(new Array(3).concat("fc8d59ffffbf99d594", "d7191cfdae61abdda42b83ba", "d7191cfdae61ffffbfabdda42b83ba", "d53e4ffc8d59fee08be6f59899d5943288bd", "d53e4ffc8d59fee08bffffbfe6f59899d5943288bd", "d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd", "d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd", "9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2", "9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Dr)), zr(new Array(3).concat("e5f5f999d8c92ca25f", "edf8fbb2e2e266c2a4238b45", "edf8fbb2e2e266c2a42ca25f006d2c", "edf8fbccece699d8c966c2a42ca25f006d2c", "edf8fbccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824", "f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Dr)), zr(new Array(3).concat("e0ecf49ebcda8856a7", "edf8fbb3cde38c96c688419d", "edf8fbb3cde38c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68856a7810f7c", "edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b", "f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Dr)), zr(new Array(3).concat("e0f3dba8ddb543a2ca", "f0f9e8bae4bc7bccc42b8cbe", "f0f9e8bae4bc7bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc443a2ca0868ac", "f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e", "f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Dr)), zr(new Array(3).concat("fee8c8fdbb84e34a33", "fef0d9fdcc8afc8d59d7301f", "fef0d9fdcc8afc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59e34a33b30000", "fef0d9fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000", "fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Dr)), zr(new Array(3).concat("ece2f0a6bddb1c9099", "f6eff7bdc9e167a9cf02818a", "f6eff7bdc9e167a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf1c9099016c59", "f6eff7d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450", "fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Dr)), zr(new Array(3).concat("ece7f2a6bddb2b8cbe", "f1eef6bdc9e174a9cf0570b0", "f1eef6bdc9e174a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d", "f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b", "fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Dr)), zr(new Array(3).concat("e7e1efc994c7dd1c77", "f1eef6d7b5d8df65b0ce1256", "f1eef6d7b5d8df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0dd1c77980043", "f1eef6d4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f", "f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Dr)), zr(new Array(3).concat("fde0ddfa9fb5c51b8a", "feebe2fbb4b9f768a1ae017e", "feebe2fbb4b9f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1c51b8a7a0177", "feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177", "fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Dr)), zr(new Array(3).concat("edf8b17fcdbb2c7fb8", "ffffcca1dab441b6c4225ea8", "ffffcca1dab441b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c42c7fb8253494", "ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84", "ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Dr)), zr(new Array(3).concat("f7fcb9addd8e31a354", "ffffccc2e69978c679238443", "ffffccc2e69978c67931a354006837", "ffffccd9f0a3addd8e78c67931a354006837", "ffffccd9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32", "ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Dr)), zr(new Array(3).concat("fff7bcfec44fd95f0e", "ffffd4fed98efe9929cc4c02", "ffffd4fed98efe9929d95f0e993404", "ffffd4fee391fec44ffe9929d95f0e993404", "ffffd4fee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04", "ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Dr)), zr(new Array(3).concat("ffeda0feb24cf03b20", "ffffb2fecc5cfd8d3ce31a1c", "ffffb2fecc5cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cf03b20bd0026", "ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026", "ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Dr)), zr(new Array(3).concat("deebf79ecae13182bd", "eff3ffbdd7e76baed62171b5", "eff3ffbdd7e76baed63182bd08519c", "eff3ffc6dbef9ecae16baed63182bd08519c", "eff3ffc6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594", "f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Dr)), zr(new Array(3).concat("e5f5e0a1d99b31a354", "edf8e9bae4b374c476238b45", "edf8e9bae4b374c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47631a354006d2c", "edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32", "f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Dr)), zr(new Array(3).concat("f0f0f0bdbdbd636363", "f7f7f7cccccc969696525252", "f7f7f7cccccc969696636363252525", "f7f7f7d9d9d9bdbdbd969696636363252525", "f7f7f7d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525", "fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Dr)), zr(new Array(3).concat("efedf5bcbddc756bb1", "f2f0f7cbc9e29e9ac86a51a3", "f2f0f7cbc9e29e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8756bb154278f", "f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486", "fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Dr)), zr(new Array(3).concat("fee0d2fc9272de2d26", "fee5d9fcae91fb6a4acb181d", "fee5d9fcae91fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4ade2d26a50f15", "fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d", "fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Dr)), zr(new Array(3).concat("fee6cefdae6be6550d", "feeddefdbe85fd8d3cd94701", "feeddefdbe85fd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3ce6550da63603", "feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04", "fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Dr)), ct(Le(300, .5, 0), Le(-240, .5, 1)); ct(Le(-100, .75, .35), Le(80, 1.5, .8)), ct(Le(260, .75, .35), Le(80, 1.5, .8)), Le(), fe(), Math.PI, Math.PI; function Nr(t) { var n = t.length; return function (e) { return t[Math.max(0, Math.min(n - 1, Math.floor(e * n)))] } } Nr(Dr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")); Nr(Dr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")), Nr(Dr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")), Nr(Dr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")); var Hr = Array.prototype, Rr = Hr.map, Lr = Hr.slice; function Ur(e) { return +e } var Er = [0, 1]; function Yr(t, n) { return (n -= t = +t) ? function (e) { return (e - t) / n } : (e = n, function () { return e }); var e } function Or(e, t, n, a) { var r = e[0], i = e[1], f = t[0], c = t[1]; return f = i < r ? (r = n(i, r), a(c, f)) : (r = n(r, i), a(f, c)), function (e) { return f(r(e)) } } function Pr(n, e, t, a) {
        var r = Math.min(n.length, e.length) - 1, i = new Array(r), f = new Array(r), c = -1;
        // Reverse descending domains.
        for (n[r] < n[0] && (n = n.slice().reverse(), e = e.slice().reverse()) ; ++c < r;) i[c] = t(n[c], n[c + 1]), f[c] = a(e[c], e[c + 1]); return function (e) { var t = o(n, e, 1, r) - 1; return f[t](i[t](e)) }
    } function Ir(c) { var o = c.domain; return c.ticks = function (e) { var t = o(); return r(t[0], t[t.length - 1], null == e ? 10 : e) }, c.tickFormat = function (e, t) { return function (e, t, n) { var a, r = e[0], i = e[e.length - 1], f = S(r, i, null == t ? 10 : t); switch ((n = yt(null == n ? ",f" : n)).type) { case "s": var c = Math.max(Math.abs(r), Math.abs(i)); return null != n.precision || isNaN(a = zt(f, c)) || (n.precision = a), kt(n, c); case "": case "e": case "g": case "p": case "r": null != n.precision || isNaN(a = Ft(f, Math.max(Math.abs(r), Math.abs(i)))) || (n.precision = a - ("e" === n.type)); break; case "f": case "%": null != n.precision || isNaN(a = Ct(f)) || (n.precision = a - 2 * ("%" === n.type)) } return St(n) }(o(), e, t) }, c.nice = function (e) { null == e && (e = 10); var t, n = o(), a = 0, r = n.length - 1, i = n[a], f = n[r]; return f < i && (t = i, i = f, f = t, t = a, a = r, r = t), 0 < (t = s(i, f, e)) ? t = s(i = Math.floor(i / t) * t, f = Math.ceil(f / t) * t, e) : t < 0 && (t = s(i = Math.ceil(i * t) / t, f = Math.floor(f * t) / t, e)), 0 < t ? (n[a] = Math.floor(i / t) * t, n[r] = Math.ceil(f / t) * t, o(n)) : t < 0 && (n[a] = Math.ceil(i * t) / t, n[r] = Math.floor(f * t) / t, o(n)), c }, c } function Xr() {
        var t =
        // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].
        // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].
        function (t, n) { var a, i, f, c = Er, o = Er, u = Ge, l = !1; function r() { return a = 2 < Math.min(c.length, o.length) ? Pr : Or, i = f = null, e } function e(e) { return (i || (i = a(c, o, l ? (r = t, function (t, n) { var a = r(t = +t, n = +n); return function (e) { return e <= t ? 0 : n <= e ? 1 : a(e) } }) : t, u)))(+e); var r } return e.invert = function (e) { return (f || (f = a(o, c, Yr, l ? (r = n, function (t, n) { var a = r(t = +t, n = +n); return function (e) { return e <= 0 ? t : 1 <= e ? n : a(e) } }) : n)))(+e); var r }, e.domain = function (e) { return arguments.length ? (c = Rr.call(e, Ur), r()) : c.slice() }, e.range = function (e) { return arguments.length ? (o = Lr.call(e), r()) : o.slice() }, e.rangeRound = function (e) { return o = Lr.call(e), u = $e, r() }, e.clamp = function (e) { return arguments.length ? (l = !!e, r()) : l }, e.interpolate = function (e) { return arguments.length ? (u = e, r()) : u }, r() }(Yr, qe); return t.copy = function () { return e = t, Xr().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()); var e }, Ir(t)
    } function jr(e) { return e.match(/.{6}/g).map(function (e) { return "#" + e }) } jr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"), jr("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"), jr("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"), jr("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"), ct(Le(300, .5, 0), Le(-240, .5, 1)); ct(Le(-100, .75, .35), Le(80, 1.5, .8)), ct(Le(260, .75, .35), Le(80, 1.5, .8)), Le(); function qr(t) { var n = t.length; return function (e) { return t[Math.max(0, Math.min(n - 1, Math.floor(e * n)))] } } qr(jr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")); qr(jr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")), qr(jr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")), qr(jr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")), a({ init: function (e) { e.parentNode.appendChild(e) } }); var Vr = a({
        props: {
            id: {},// Use with: .attr('fill', 'url(#<gradId>)');
            colorScale: { default: Xr().range(["black", "white"]) }, angle: { default: 0 }
        }, init: function (e, t) { t.id = "areaGradient" + Math.round(1e4 * Math.random()), t.gradient = Ar(e).append("linearGradient") }, update: function (t) {
            var e = Math.PI * t.angle / 180; t.gradient.attr("y1", Math.round(100 * Math.max(0, Math.sin(e))) + "%").attr("y2", Math.round(100 * Math.max(0, -Math.sin(e))) + "%").attr("x1", Math.round(100 * Math.max(0, -Math.cos(e))) + "%").attr("x2", Math.round(100 * Math.max(0, Math.cos(e))) + "%").attr("id", t.id); var n = Xr().domain([0, 100]).range(t.colorScale.domain()), a = t.gradient.selectAll("stop").data(b(0, 100.01, 20));// 11 stops is sufficient to cover all noticeable color nuances
            a.exit().remove(), a.merge(a.enter().append("stop")).attr("offset", function (e) { return e + "%" }).attr("stop-color", function (e) { return t.colorScale(n(e)) })
        }
    }), Br = (a({
        // Use with: .attr('filter', 'url(#<shadowId>)'))
        props: { id: { default: "areaGradient" + Math.round(1e4 * Math.random()) } }, init: function (e, t) { t.filter = Ar(e).append("defs").append("filter").attr("height", "130%"), t.filter.append("feGaussianBlur").attr("in", "SourceAlpha").attr("stdDeviation", 3), t.filter.append("feOffset").attr("dx", 2).attr("dy", 2).attr("result", "offsetblur"); var n = t.filter.append("feMerge"); n.append("feMergeNode"), n.append("feMergeNode").attr("in", "SourceGraphic") }, update: function (e) { e.filter.attr("id", e.id) }
    }), a({
        props: { x: { default: 0 }, y: { default: 0 }, r: { default: 8 }, color: { default: "darkblue" }, duration: { default: .7 }, angleFull: { default: 120 } }, init: function (e, t) { e = Ar(e), t.path = e.append("path"), t.transform = t.path.append("animateTransform").attr("attributeName", "transform").attr("attributeType", "XML").attr("type", "rotate").attr("begin", "0s").attr("fill", "freeze").attr("repeatCount", "indefinite") }, update: function (e) {
            e.path.attr("d",
            //
            function (e, t, n, a, r, i) { r = r / 180 * Math.PI, i = i / 180 * Math.PI; var f = n, c = n - a, o = [[e + f * Math.cos(r), t + f * Math.sin(r)], [e + f * Math.cos(i), t + f * Math.sin(i)], [e + c * Math.cos(i), t + c * Math.sin(i)], [e + c * Math.cos(r), t + c * Math.sin(r)]], u = (i - r) % (2 * Math.PI) > Math.PI ? 1 : 0, l = []; return l.push("M" + o[0].join()), l.push("A" + [f, f, 0, u, 1, o[1]].join()), l.push("L" + o[2].join()), l.push("A" + [c, c, 0, u, 0, o[3]].join()), l.push("z"), l.join(" ") }(e.x, e.y, e.r, e.r / 3, 0, e.angleFull)).attr("fill", e.color), e.transform.attr("from", "0 " + e.x + " " + e.y).attr("to", "360 " + e.x + " " + e.y).attr("dur", e.duration + "s")
        }
    }), a({ props: { imgUrl: {}, x: { default: 0 }, y: { default: 0 }, maxWidth: { default: 20 }, maxHeight: { default: 20 }, svgAlign: { default: "xMidYMid" } }, methods: { show: function (e) { return e.img.attr("width", e.maxWidth).attr("height", e.maxHeight), this }, hide: function (e) { return e.img.attr("width", 0).attr("height", 0), this } }, init: function (e, t) { t.img = Ar(e).append("image") }, update: function (e) { e.img.attr("xlink:href", e.imgUrl).attr("x", e.x).attr("y", e.y).attr("width", e.maxW).attr("height", e.maxH).attr("preserveAspectRatio", e.svgAlign + " meet") } }), a({
        props: {
            selection: {
                default: {
                    x: [null, null],// [start, end]
                    y: [null, null]
                }
            }, xDomain: { onChange: function (e, t) { t.xScale.domain(e) } }, yDomain: { onChange: function (e, t) { t.yScale.domain(e) } }, transitionDuration: 700
        }, stateInit: { xScale: Xr(), yScale: Xr() }, init: function (e, t, n) {
            var a = n.width, r = n.height, i = n.margin, f = void 0 === i ? { top: 2, right: 2, bottom: 2, left: 2 } : i; t.xScale.range([f.left, a - t.margin.right]), t.yScale.range([f.top, r - t.margin.bottom]),
            // Build dom
            t.svg = Ar(e).append("svg").attr("width", a).attr("height", r), t.outerBox = t.svg.append("rect").attr("x", t.xScale.range()[0]).attr("y", t.yScale.range()[0]).attr("rx", 2).attr("ry", 2).attr("width", t.xScale.range()[1]).attr("height", t.yScale.range()[1]).style("fill", "#EEE").style("stroke", "grey"), t.selectionBox = t.svg.append("rect").attr("rx", 1).attr("ry", 1).attr("width", 0).attr("height", 0).style("stroke", "blue").style("stroke-opacity", .6).style("fill", "blue").style("fill-opacity", .3)
        }, update: function (e) { e.outerBox.attr("x", e.xScale.range()[0]).attr("y", e.yScale.range()[0]).attr("width", e.xScale.range()[1]).attr("height", e.yScale.range()[1]), e.selectionBox.attr("x", e.xScale(e.selection.x[0])).attr("y", e.yScale(e.selection.y[0])).attr("width", e.xScale(e.selection.x[1] - e.selection.x[0])).attr("height", e.yScale(e.selection.y[1] - e.selection.y[0])) }
    }), a({
        props: { bbox: { default: { width: null, height: null } }, passes: { default: 3 } }, init: function (e, t) { t.el = e }, update: function (a) {
            [].concat(function (e) { if (Array.isArray(e)) { for (var t = 0, n = Array(e.length) ; t < e.length; t++) n[t] = e[t]; return n } return Array.from(e) }(Array(a.passes).keys())).some(function () {
                var e = parseInt(a.el.style["font-size"].split("px")[0]) || 20, t = a.el.getBBox(), n = Math.floor(e * Math.min(a.bbox.width / t.width, a.bbox.height / t.height)); if (n === e) return !0;// Shortcut out
                a.el.style["font-size"] = n + "px"
            })
        }
    })), Wr = (a({
        props: { maxWidth: { default: 1 / 0 } }, init: function (e, t) { t.el = e }, update: function (e) {// Start above
            for (var t, n, a = e.el.textContent, r = Math.round(a.length * e.maxWidth / e.el.getBBox().width * 1.2) ; --r && e.maxWidth / e.el.getBBox().width < 1;) e.el.textContent = (n = r, (t = a).length <= n ? t : t.substring(0, 2 * n / 3) + "..." + t.substring(t.length - n / 3, t.length));
            //
        }
    }), e(function (I) {
        // TinyColor v1.4.1
        // https://github.com/bgrins/TinyColor
        // Brian Grinstead, MIT License
        !function (s) {
            var d = /^\s+/, h = /\s+$/, a = 0, f = s.round, b = s.min, g = s.max, e = s.random; function l(e, t) {
                // If input is already a tinycolor, return itself
                if (t = t || {}, (e = e || "") instanceof l) return e;
                // If we are called as a function, call using new instead
                if (!(this instanceof l)) return new l(e, t); var n =
                // Given a string or object, convert that input to RGB
                // Possible string inputs:
                //
                //     "red"
                //     "#f00" or "f00"
                //     "#ff0000" or "ff0000"
                //     "#ff000000" or "ff000000"
                //     "rgb 255 0 0" or "rgb (255, 0, 0)"
                //     "rgb 1.0 0 0" or "rgb (1, 0, 0)"
                //     "rgba (255, 0, 0, 1)" or "rgba 255, 0, 0, 1"
                //     "rgba (1.0, 0, 0, 1)" or "rgba 1.0, 0, 0, 1"
                //     "hsl(0, 100%, 50%)" or "hsl 0 100% 50%"
                //     "hsla(0, 100%, 50%, 1)" or "hsla 0 100% 50%, 1"
                //     "hsv(0, 100%, 100%)" or "hsv 0 100% 100%"
                //
                function (e) {
                    var t = { r: 0, g: 0, b: 0 }, n = 1, a = null, r = null, i = null, f = !1, c = !1; "string" == typeof e && (e =
                    // `stringInputToObject`
                    // Permissive string parsing.  Take in a number of formats, and output an object
                    // based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`
                    function (e) {
                        e = e.replace(d, "").replace(h, "").toLowerCase(); var t, n = !1; if (k[e]) e = k[e], n = !0; else if ("transparent" == e) return { r: 0, g: 0, b: 0, a: 0, format: "name" };
                        // Try to match string input using regular expressions.
                        // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]
                        // Just return an object and let the conversion functions handle that.
                        // This way the result will be the same whether the tinycolor is initialized with string or object.
                        if (t = O.rgb.exec(e)) return { r: t[1], g: t[2], b: t[3] }; if (t = O.rgba.exec(e)) return { r: t[1], g: t[2], b: t[3], a: t[4] }; if (t = O.hsl.exec(e)) return { h: t[1], s: t[2], l: t[3] }; if (t = O.hsla.exec(e)) return { h: t[1], s: t[2], l: t[3], a: t[4] }; if (t = O.hsv.exec(e)) return { h: t[1], s: t[2], v: t[3] }; if (t = O.hsva.exec(e)) return { h: t[1], s: t[2], v: t[3], a: t[4] }; if (t = O.hex8.exec(e)) return { r: F(t[1]), g: F(t[2]), b: F(t[3]), a: L(t[4]), format: n ? "name" : "hex8" }; if (t = O.hex6.exec(e)) return { r: F(t[1]), g: F(t[2]), b: F(t[3]), format: n ? "name" : "hex" }; if (t = O.hex4.exec(e)) return { r: F(t[1] + "" + t[1]), g: F(t[2] + "" + t[2]), b: F(t[3] + "" + t[3]), a: L(t[4] + "" + t[4]), format: n ? "name" : "hex8" }; if (t = O.hex3.exec(e)) return { r: F(t[1] + "" + t[1]), g: F(t[2] + "" + t[2]), b: F(t[3] + "" + t[3]), format: n ? "name" : "hex" }; return !1
                    }(e)); "object" == typeof e && (P(e.r) && P(e.g) && P(e.b) ? (o = e.r, u = e.g, l = e.b, t = { r: 255 * C(o, 255), g: 255 * C(u, 255), b: 255 * C(l, 255) }, f = !0, c = "%" === String(e.r).substr(-1) ? "prgb" : "rgb") : P(e.h) && P(e.s) && P(e.v) ? (a = H(e.s), r = H(e.v), t =
                    // `hsvToRgb`
                    // Converts an HSV color value to RGB.
                    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]
                    // *Returns:* { r, g, b } in the set [0, 255]
                    function (e, t, n) { e = 6 * C(e, 360), t = C(t, 100), n = C(n, 100); var a = s.floor(e), r = e - a, i = n * (1 - t), f = n * (1 - r * t), c = n * (1 - (1 - r) * t), o = a % 6; return { r: 255 * [n, f, i, i, c, n][o], g: 255 * [c, n, n, f, i, i][o], b: 255 * [i, i, c, n, n, f][o] } }
                    // `rgbToHex`
                    // Converts an RGB color to hex
                    // Assumes r, g, and b are contained in the set [0, 255]
                    // Returns a 3 or 6 character hex
                    (e.h, a, r), f = !0, c = "hsv") : P(e.h) && P(e.s) && P(e.l) && (a = H(e.s), i = H(e.l), t =
                    // `hslToRgb`
                    // Converts an HSL color value to RGB.
                    // *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]
                    // *Returns:* { r, g, b } in the set [0, 255]
                    function (e, t, n) {
                        var a, r, i; function f(e, t, n) { return n < 0 && (n += 1), 1 < n && (n -= 1), n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e } if (e = C(e, 360), t = C(t, 100), n = C(n, 100), 0 === t) a = r = i = n;// achromatic
                        else { var c = n < .5 ? n * (1 + t) : n + t - n * t, o = 2 * n - c; a = f(o, c, e + 1 / 3), r = f(o, c, e), i = f(o, c, e - 1 / 3) } return { r: 255 * a, g: 255 * r, b: 255 * i }
                    }
                    // `rgbToHsv`
                    // Converts an RGB color value to HSV
                    // *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]
                    // *Returns:* { h, s, v } in [0,1]
                    (e.h, a, i), f = !0, c = "hsl"), e.hasOwnProperty("a") && (n = e.a));
                    // Conversion Functions
                    // --------------------
                    // `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:
                    // <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>
                    // `rgbToRgb`
                    // Handle bounds / percentage checking to conform to CSS color spec
                    // <http://www.w3.org/TR/css3-color/>
                    // *Assumes:* r, g, b in [0, 255] or [0, 1]
                    // *Returns:* { r, g, b } in [0, 255]
                    var o, u, l;
                    // `rgbToHsl`
                    // Converts an RGB color value to HSL.
                    // *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]
                    // *Returns:* { h, s, l } in [0,1]
                    return n = T(n), { ok: f, format: e.format || c, r: b(255, g(t.r, 0)), g: b(255, g(t.g, 0)), b: b(255, g(t.b, 0)), a: n }
                }(e); this._originalInput = e, this._r = n.r, this._g = n.g, this._b = n.b, this._a = n.a, this._roundA = f(100 * this._a) / 100, this._format = t.format || n.format, this._gradientType = t.gradientType,
                // Don't let the range of [0,255] come back in [0,1].
                // Potentially lose a little bit of precision here, but will fix issues where
                // .5 gets interpreted as half of the total, instead of half of 1
                // If it was supposed to be 128, this was already taken care of by `inputToRgb`
                this._r < 1 && (this._r = f(this._r)), this._g < 1 && (this._g = f(this._g)), this._b < 1 && (this._b = f(this._b)), this._ok = n.ok, this._tc_id = a++
            } function r(e, t, n) {
                e = C(e, 255), t = C(t, 255), n = C(n, 255); var a, r, i = g(e, t, n), f = b(e, t, n), c = (i + f) / 2; if (i == f) a = r = 0;// achromatic
                else { var o = i - f; switch (r = .5 < c ? o / (2 - i - f) : o / (i + f), i) { case e: a = (t - n) / o + (t < n ? 6 : 0); break; case t: a = (n - e) / o + 2; break; case n: a = (e - t) / o + 4 } a /= 6 } return { h: a, s: r, l: c }
            } function i(e, t, n) {
                e = C(e, 255), t = C(t, 255), n = C(n, 255); var a, r, i = g(e, t, n), f = b(e, t, n), c = i, o = i - f; if (r = 0 === i ? 0 : o / i, i == f) a = 0;// achromatic
                else { switch (i) { case e: a = (t - n) / o + (t < n ? 6 : 0); break; case t: a = (n - e) / o + 2; break; case n: a = (e - t) / o + 4 } a /= 6 } return { h: a, s: r, v: c }
            } function t(e, t, n, a) {
                var r = [N(f(e).toString(16)), N(f(t).toString(16)), N(f(n).toString(16))];
                // Return a 3 character hex if possible
                return a && r[0].charAt(0) == r[0].charAt(1) && r[1].charAt(0) == r[1].charAt(1) && r[2].charAt(0) == r[2].charAt(1) ? r[0].charAt(0) + r[1].charAt(0) + r[2].charAt(0) : r.join("")
            }
            // `rgbaToHex`
            // Converts an RGBA color plus alpha transparency to hex
            // Assumes r, g, b are contained in the set [0, 255] and
            // a in [0, 1]. Returns a 4 or 8 character rgba hex
            // `rgbaToArgbHex`
            // Converts an RGBA color to an ARGB Hex8 string
            // Rarely used, but required for "toFilter()"
            function c(e, t, n, a) { return [N(R(a)), N(f(e).toString(16)), N(f(t).toString(16)), N(f(n).toString(16))].join("") }
            // `equals`
            // Can be called with any tinycolor input
            // Modification Functions
            // ----------------------
            // Thanks to less.js for some of the basics here
            // <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>
            function n(e, t) { t = 0 === t ? 0 : t || 10; var n = l(e).toHsl(); return n.s -= t / 100, n.s = z(n.s), l(n) } function o(e, t) { t = 0 === t ? 0 : t || 10; var n = l(e).toHsl(); return n.s += t / 100, n.s = z(n.s), l(n) } function u(e) { return l(e).desaturate(100) } function p(e, t) { t = 0 === t ? 0 : t || 10; var n = l(e).toHsl(); return n.l += t / 100, n.l = z(n.l), l(n) } function m(e, t) { t = 0 === t ? 0 : t || 10; var n = l(e).toRgb(); return n.r = g(0, b(255, n.r - f(-t / 100 * 255))), n.g = g(0, b(255, n.g - f(-t / 100 * 255))), n.b = g(0, b(255, n.b - f(-t / 100 * 255))), l(n) } function v(e, t) { t = 0 === t ? 0 : t || 10; var n = l(e).toHsl(); return n.l -= t / 100, n.l = z(n.l), l(n) }
            // Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.
            // Values outside of this range will be wrapped into this range.
            function y(e, t) { var n = l(e).toHsl(), a = (n.h + t) % 360; return n.h = a < 0 ? 360 + a : a, l(n) }
            // Combination Functions
            // ---------------------
            // Thanks to jQuery xColor for some of the ideas behind these
            // <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>
            function w(e) { var t = l(e).toHsl(); return t.h = (t.h + 180) % 360, l(t) } function x(e) { var t = l(e).toHsl(), n = t.h; return [l(e), l({ h: (n + 120) % 360, s: t.s, l: t.l }), l({ h: (n + 240) % 360, s: t.s, l: t.l })] } function _(e) { var t = l(e).toHsl(), n = t.h; return [l(e), l({ h: (n + 90) % 360, s: t.s, l: t.l }), l({ h: (n + 180) % 360, s: t.s, l: t.l }), l({ h: (n + 270) % 360, s: t.s, l: t.l })] } function M(e) { var t = l(e).toHsl(), n = t.h; return [l(e), l({ h: (n + 72) % 360, s: t.s, l: t.l }), l({ h: (n + 216) % 360, s: t.s, l: t.l })] } function A(e, t, n) { t = t || 6, n = n || 30; var a = l(e).toHsl(), r = 360 / n, i = [l(e)]; for (a.h = (a.h - (r * t >> 1) + 720) % 360; --t;) a.h = (a.h + r) % 360, i.push(l(a)); return i } function S(e, t) { t = t || 6; for (var n = l(e).toHsv(), a = n.h, r = n.s, i = n.v, f = [], c = 1 / t; t--;) f.push(l({ h: a, s: r, v: i })), i = (i + c) % 1; return f }
            // Utility Functions
            // ---------------------
            l.prototype = {
                isDark: function () { return this.getBrightness() < 128 }, isLight: function () { return !this.isDark() }, isValid: function () { return this._ok }, getOriginalInput: function () { return this._originalInput }, getFormat: function () { return this._format }, getAlpha: function () { return this._a }, getBrightness: function () {
                    //http://www.w3.org/TR/AERT#color-contrast
                    var e = this.toRgb(); return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3
                }, getLuminance: function () {
                    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
                    var e, t, n, a = this.toRgb(); return e = a.r / 255, t = a.g / 255, n = a.b / 255, .2126 * (e <= .03928 ? e / 12.92 : s.pow((e + .055) / 1.055, 2.4)) + .7152 * (t <= .03928 ? t / 12.92 : s.pow((t + .055) / 1.055, 2.4)) + .0722 * (n <= .03928 ? n / 12.92 : s.pow((n + .055) / 1.055, 2.4))
                }, setAlpha: function (e) { return this._a = T(e), this._roundA = f(100 * this._a) / 100, this }, toHsv: function () { var e = i(this._r, this._g, this._b); return { h: 360 * e.h, s: e.s, v: e.v, a: this._a } }, toHsvString: function () { var e = i(this._r, this._g, this._b), t = f(360 * e.h), n = f(100 * e.s), a = f(100 * e.v); return 1 == this._a ? "hsv(" + t + ", " + n + "%, " + a + "%)" : "hsva(" + t + ", " + n + "%, " + a + "%, " + this._roundA + ")" }, toHsl: function () { var e = r(this._r, this._g, this._b); return { h: 360 * e.h, s: e.s, l: e.l, a: this._a } }, toHslString: function () { var e = r(this._r, this._g, this._b), t = f(360 * e.h), n = f(100 * e.s), a = f(100 * e.l); return 1 == this._a ? "hsl(" + t + ", " + n + "%, " + a + "%)" : "hsla(" + t + ", " + n + "%, " + a + "%, " + this._roundA + ")" }, toHex: function (e) { return t(this._r, this._g, this._b, e) }, toHexString: function (e) { return "#" + this.toHex(e) }, toHex8: function (e) {
                    return function (e, t, n, a, r) {
                        var i = [N(f(e).toString(16)), N(f(t).toString(16)), N(f(n).toString(16)), N(R(a))];
                        // Return a 4 character hex if possible
                        if (r && i[0].charAt(0) == i[0].charAt(1) && i[1].charAt(0) == i[1].charAt(1) && i[2].charAt(0) == i[2].charAt(1) && i[3].charAt(0) == i[3].charAt(1)) return i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0) + i[3].charAt(0); return i.join("")
                    }(this._r, this._g, this._b, this._a, e)
                }, toHex8String: function (e) { return "#" + this.toHex8(e) }, toRgb: function () { return { r: f(this._r), g: f(this._g), b: f(this._b), a: this._a } }, toRgbString: function () { return 1 == this._a ? "rgb(" + f(this._r) + ", " + f(this._g) + ", " + f(this._b) + ")" : "rgba(" + f(this._r) + ", " + f(this._g) + ", " + f(this._b) + ", " + this._roundA + ")" }, toPercentageRgb: function () { return { r: f(100 * C(this._r, 255)) + "%", g: f(100 * C(this._g, 255)) + "%", b: f(100 * C(this._b, 255)) + "%", a: this._a } }, toPercentageRgbString: function () { return 1 == this._a ? "rgb(" + f(100 * C(this._r, 255)) + "%, " + f(100 * C(this._g, 255)) + "%, " + f(100 * C(this._b, 255)) + "%)" : "rgba(" + f(100 * C(this._r, 255)) + "%, " + f(100 * C(this._g, 255)) + "%, " + f(100 * C(this._b, 255)) + "%, " + this._roundA + ")" }, toName: function () { return 0 === this._a ? "transparent" : !(this._a < 1) && (D[t(this._r, this._g, this._b, !0)] || !1) }, toFilter: function (e) { var t = "#" + c(this._r, this._g, this._b, this._a), n = t, a = this._gradientType ? "GradientType = 1, " : ""; if (e) { var r = l(e); n = "#" + c(r._r, r._g, r._b, r._a) } return "progid:DXImageTransform.Microsoft.gradient(" + a + "startColorstr=" + t + ",endColorstr=" + n + ")" }, toString: function (e) {
                    var t = !!e; e = e || this._format; var n = !1, a = this._a < 1 && 0 <= this._a; return t || !a || "hex" !== e && "hex6" !== e && "hex3" !== e && "hex4" !== e && "hex8" !== e && "name" !== e ? ("rgb" === e && (n = this.toRgbString()), "prgb" === e && (n = this.toPercentageRgbString()), "hex" !== e && "hex6" !== e || (n = this.toHexString()), "hex3" === e && (n = this.toHexString(!0)), "hex4" === e && (n = this.toHex8String(!0)), "hex8" === e && (n = this.toHex8String()), "name" === e && (n = this.toName()), "hsl" === e && (n = this.toHslString()), "hsv" === e && (n = this.toHsvString()), n || this.toHexString()) :
                    // Special case for "transparent", all other non-alpha formats
                    // will return rgba when there is transparency.
                    "name" === e && 0 === this._a ? this.toName() : this.toRgbString()
                }, clone: function () { return l(this.toString()) }, _applyModification: function (e, t) { var n = e.apply(null, [this].concat([].slice.call(t))); return this._r = n._r, this._g = n._g, this._b = n._b, this.setAlpha(n._a), this }, lighten: function () { return this._applyModification(p, arguments) }, brighten: function () { return this._applyModification(m, arguments) }, darken: function () { return this._applyModification(v, arguments) }, desaturate: function () { return this._applyModification(n, arguments) }, saturate: function () { return this._applyModification(o, arguments) }, greyscale: function () { return this._applyModification(u, arguments) }, spin: function () { return this._applyModification(y, arguments) }, _applyCombination: function (e, t) { return e.apply(null, [this].concat([].slice.call(t))) }, analogous: function () { return this._applyCombination(A, arguments) }, complement: function () { return this._applyCombination(w, arguments) }, monochromatic: function () { return this._applyCombination(S, arguments) }, splitcomplement: function () { return this._applyCombination(M, arguments) }, triad: function () { return this._applyCombination(x, arguments) }, tetrad: function () { return this._applyCombination(_, arguments) }
            },
            // If input is an object, force 1 into "1.0" to handle ratios properly
            // String input requires "1.0" as input, so 1 will be treated as 1
            l.fromRatio = function (e, t) { if ("object" == typeof e) { var n = {}; for (var a in e) e.hasOwnProperty(a) && (n[a] = "a" === a ? e[a] : H(e[a])); e = n } return l(e, t) }, l.equals = function (e, t) { return !(!e || !t) && l(e).toRgbString() == l(t).toRgbString() }, l.random = function () { return l.fromRatio({ r: e(), g: e(), b: e() }) }, l.mix = function (e, t, n) { n = 0 === n ? 0 : n || 50; var a = l(e).toRgb(), r = l(t).toRgb(), i = n / 100; return l({ r: (r.r - a.r) * i + a.r, g: (r.g - a.g) * i + a.g, b: (r.b - a.b) * i + a.b, a: (r.a - a.a) * i + a.a }) },
            // Readability Functions
            // ---------------------
            // <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)
            // `contrast`
            // Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)
            l.readability = function (e, t) { var n = l(e), a = l(t); return (s.max(n.getLuminance(), a.getLuminance()) + .05) / (s.min(n.getLuminance(), a.getLuminance()) + .05) },
            // `isReadable`
            // Ensure that foreground and background color combinations meet WCAG2 guidelines.
            // The third argument is an optional Object.
            //      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';
            //      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.
            // If the entire object is absent, isReadable defaults to {level:"AA",size:"small"}.
            // *Example*
            //    tinycolor.isReadable("#000", "#111") => false
            //    tinycolor.isReadable("#000", "#111",{level:"AA",size:"large"}) => false
            l.isReadable = function (e, t, n) {
                var a, r, i = l.readability(e, t); switch (r = !1, (a = function (e) {
                    // return valid WCAG2 parms for isReadable.
                    // If input parms are invalid, return {"level":"AA", "size":"small"}
                var t, n; t = ((e = e || { level: "AA", size: "small" }).level || "AA").toUpperCase(), n = (e.size || "small").toLowerCase(), "AA" !== t && "AAA" !== t && (t = "AA"); "small" !== n && "large" !== n && (n = "small"); return { level: t, size: n }
                }
                    // Node: Export function
                (n)).level + a.size) {
                    case "AAsmall": case "AAAlarge": r = 4.5 <= i; break; case "AAlarge": r = 3 <= i; break; case "AAAsmall": r = 7 <= i
                } return r
            },
            // `mostReadable`
            // Given a base color and a list of possible foreground or background
            // colors for that base, returns the most readable color.
            // Optionally returns Black or White if the most readable color is unreadable.
            // *Example*
            //    tinycolor.mostReadable(tinycolor.mostReadable("#123", ["#124", "#125"],{includeFallbackColors:false}).toHexString(); // "#112255"
            //    tinycolor.mostReadable(tinycolor.mostReadable("#123", ["#124", "#125"],{includeFallbackColors:true}).toHexString();  // "#ffffff"
            //    tinycolor.mostReadable("#a8015a", ["#faf3f3"],{includeFallbackColors:true,level:"AAA",size:"large"}).toHexString(); // "#faf3f3"
            //    tinycolor.mostReadable("#a8015a", ["#faf3f3"],{includeFallbackColors:true,level:"AAA",size:"small"}).toHexString(); // "#ffffff"
            l.mostReadable = function (e, t, n) { var a, r, i, f, c = null, o = 0; r = (n = n || {}).includeFallbackColors, i = n.level, f = n.size; for (var u = 0; u < t.length; u++) o < (a = l.readability(e, t[u])) && (o = a, c = l(t[u])); return l.isReadable(e, c, { level: i, size: f }) || !r ? c : (n.includeFallbackColors = !1, l.mostReadable(e, ["#fff", "#000"], n)) };
            // Big List of Colors
            // ------------------
            // <http://www.w3.org/TR/css3-color/#svg-color>
            var k = l.names = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "0ff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000", blanchedalmond: "ffebcd", blue: "00f", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", burntsienna: "ea7e5d", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "0ff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkgrey: "a9a9a9", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "f0f", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", grey: "808080", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3", lightgreen: "90ee90", lightgrey: "d3d3d3", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslategray: "789", lightslategrey: "789", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "0f0", limegreen: "32cd32", linen: "faf0e6", magenta: "f0f", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370db", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "db7093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", rebeccapurple: "663399", red: "f00", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", slategrey: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", wheat: "f5deb3", white: "fff", whitesmoke: "f5f5f5", yellow: "ff0", yellowgreen: "9acd32" }, D = l.hexNames =
            // Utilities
            // ---------
            // `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`
            function (e) { var t = {}; for (var n in e) e.hasOwnProperty(n) && (t[e[n]] = n); return t }
            // Return a valid alpha value [0,1] with all invalid values being set to 1
            (k);
            // Make it easy to access colors via `hexNames[hex]`
            function T(e) { return e = parseFloat(e), (isNaN(e) || e < 0 || 1 < e) && (e = 1), e }
            // Take input from [0, n] and return it as [0, 1]
            function C(e, t) {
                // Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1
                // <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>
                var n;
                // Check to see if string passed in is a percentage
                "string" == typeof (n = e) && -1 != n.indexOf(".") && 1 === parseFloat(n) && (e = "100%"); var a, r = "string" == typeof (a = e) && -1 != a.indexOf("%");
                // Handle floating point rounding errors
                return e = b(t, g(0, parseFloat(e))),
                // Automatically convert percentage into number
                r && (e = parseInt(e * t, 10) / 100), s.abs(e - t) < 1e-6 ? 1 : e % t / parseFloat(t);
                // Convert into [0, 1] range if it isn't already
            }
            // Force a number between 0 and 1
            function z(e) { return b(1, g(0, e)) }
            // Parse a base-16 hex value into a base-10 integer
            function F(e) { return parseInt(e, 16) }
            // Force a hex value to have 2 characters
            function N(e) { return 1 == e.length ? "0" + e : "" + e }
            // Replace a decimal with it's percentage value
            function H(e) { return e <= 1 && (e = 100 * e + "%"), e }
            // Converts a decimal to a hex value
            function R(e) { return s.round(255 * parseFloat(e)).toString(16) }
            // Converts a hex value to a decimal
            function L(e) { return F(e) / 255 } var U, E, Y, O = (E = "[\\s|\\(]+(" + (U = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)") + ")[,|\\s]+(" + U + ")[,|\\s]+(" + U + ")\\s*\\)?", Y = "[\\s|\\(]+(" + U + ")[,|\\s]+(" + U + ")[,|\\s]+(" + U + ")[,|\\s]+(" + U + ")\\s*\\)?", { CSS_UNIT: new RegExp(U), rgb: new RegExp("rgb" + E), rgba: new RegExp("rgba" + Y), hsl: new RegExp("hsl" + E), hsla: new RegExp("hsla" + Y), hsv: new RegExp("hsv" + E), hsva: new RegExp("hsva" + Y), hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/, hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/, hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/ });
            // `isValidCSSUnit`
            // Take in a single string / number and check to see if it looks like a CSS unit
            // (see `matchers` above for definition).
            function P(e) { return !!O.CSS_UNIT.exec(e) } I.exports ? I.exports = l : window.tinycolor = l
        }(Math)
    })), Gr = a({
        props: { width: {}, height: {}, scale: {}, label: {} }, init: function (e, t) {
            t.gradient = Vr()(e), t.el = Ar(e),
            // Build dom
            t.box = t.el.append("rect").attr("x", 0).attr("y", 0).attr("rx", 3).attr("ry", 3).attr("stroke", "black").attr("stroke-width", .5), t.unitLabel = t.el.append("text").attr("class", "legendText").style("text-anchor", "middle").style("dominant-baseline", "central"), t.labelFitText = Br()(t.unitLabel.node()), t.startLabel = t.el.append("text").style("text-anchor", "start").style("dominant-baseline", "central"), t.startLabelFitText = Br()(t.startLabel.node()), t.endLabel = t.el.append("text").style("text-anchor", "end").style("dominant-baseline", "central"), t.endLabelFitText = Br()(t.endLabel.node())
        }, update: function (e) { e.gradient.colorScale(e.scale), e.box.attr("width", e.width).attr("height", e.height).style("fill", "url(#" + e.gradient.id() + ")"), e.unitLabel.text(e.label).attr("x", .5 * e.width).attr("y", .5 * e.height).style("text-anchor", "middle").style("dominant-baseline", "central").style("fill", Wr(e.scale((e.scale.domain()[e.scale.domain().length - 1] - e.scale.domain()[0]) / 2)).isLight() ? "#444" : "#CCC"), e.labelFitText.bbox({ width: .8 * e.width, height: .9 * e.height }), e.startLabel.text(e.scale.domain()[0]).attr("x", .02 * e.width).attr("y", .5 * e.height).style("fill", Wr(e.scale(e.scale.domain()[0])).isLight() ? "#444" : "#CCC"), e.startLabelFitText.bbox({ width: .3 * e.width, height: .7 * e.height }), e.endLabel.text(e.scale.domain()[e.scale.domain().length - 1]).attr("x", .98 * e.width).attr("y", .5 * e.height).style("fill", Wr(e.scale(e.scale.domain()[e.scale.domain().length - 1])).isLight() ? "#444" : "#CCC"), e.endLabelFitText.bbox({ width: .3 * e.width, height: .7 * e.height }) }
    }), $r = a({
        props: { width: {}, height: {}, scale: {}, label: {} }, init: function (e, t) { t.el = Ar(e) }, update: function (t) {
            var n = t.width / t.scale.domain().length, e = t.el.selectAll(".color-slot").data(t.scale.domain()); e.exit().remove(); var a = e.enter().append("g").attr("class", "color-slot"); a.append("rect").attr("y", 0).attr("rx", 0).attr("ry", 0).attr("stroke-width", 0), a.append("text").style("text-anchor", "middle").style("dominant-baseline", "central"), a.append("title"), (
            // Update
            e = e.merge(a)).select("rect").attr("width", n).attr("height", t.height).attr("x", function (e, t) { return n * t }).attr("fill", function (e) { return t.scale(e) }), e.select("text").text(function (e) { return e }).attr("x", function (e, t) { return n * (t + .5) }).attr("y", .5 * t.height).style("fill", function (e) { return Wr(t.scale(e)).isLight() ? "#333" : "#DDD" }).each(function (e) { Br().bbox({ width: .9 * n, height: .8 * t.height })(this) }), e.select("title").text(function (e) { return e + " " + t.label })
        }
    }), Zr = a({
        props: { width: {}, height: {}, scale: {}, label: {} }, init: function (e, t) { t.legend = Ar(e).append("g").attr("class", "legend") }, update: function (e) {
            if (e.scale) {
                // Check if ordinal or continuous scale
                var t = e.scale.hasOwnProperty("unknown");// Only ordinal scales have the unknown method (for auto-assigning new categories)
                e.legend.html(""),// Wipe it
                (t ? $r : Gr)().width(e.width).height(e.height).scale(e.scale).label(e.label)(e.legend.node())
            }
        }
    }), Qr = { value: function () { } }; function Jr() { for (var e, t = 0, n = arguments.length, a = {}; t < n; ++t) { if (!(e = arguments[t] + "") || e in a) throw new Error("illegal type: " + e); a[e] = [] } return new Kr(a) } function Kr(e) { this._ = e } function ei(e, t) { for (var n, a = 0, r = e.length; a < r; ++a) if ((n = e[a]).name === t) return n.value } function ti(e, t, n) { for (var a = 0, r = e.length; a < r; ++a) if (e[a].name === t) { e[a] = Qr, e = e.slice(0, a).concat(e.slice(a + 1)); break } return null != n && e.push({ name: t, value: n }), e } function ni() { gr.preventDefault(), gr.stopImmediatePropagation() } Kr.prototype = Jr.prototype = {
        constructor: Kr, on: function (e, t) {
            var n, a, r = this._, i = (a = r, (e + "").trim().split(/^|\s+/).map(function (e) { var t = "", n = e.indexOf("."); if (0 <= n && (t = e.slice(n + 1), e = e.slice(0, n)), e && !a.hasOwnProperty(e)) throw new Error("unknown type: " + e); return { type: e, name: t } })), f = -1, c = i.length;
            // If no callback was specified, return the callback of the given type and name.
            if (!(arguments.length < 2)) {
                // If a type was specified, set the callback for the given type and name.
                // Otherwise, if a null callback was specified, remove callbacks of the given name.
                if (null != t && "function" != typeof t) throw new Error("invalid callback: " + t); for (; ++f < c;) if (n = (e = i[f]).type) r[n] = ti(r[n], e.name, t); else if (null == t) for (n in r) r[n] = ti(r[n], e.name, null); return this
            } for (; ++f < c;) if ((n = (e = i[f]).type) && (n = ei(r[n], e.name))) return n
        }, copy: function () { var e = {}, t = this._; for (var n in t) e[n] = t[n].slice(); return new Kr(e) }, call: function (e, t) { if (0 < (n = arguments.length - 2)) for (var n, a, r = new Array(n), i = 0; i < n; ++i) r[i] = arguments[i + 2]; if (!this._.hasOwnProperty(e)) throw new Error("unknown type: " + e); for (i = 0, n = (a = this._[e]).length; i < n; ++i) a[i].value.apply(t, r) }, apply: function (e, t, n) { if (!this._.hasOwnProperty(e)) throw new Error("unknown type: " + e); for (var a = this._[e], r = 0, i = a.length; r < i; ++r) a[r].value.apply(t, n) }
    }; var// how frequently we check for clock skew
    ai, ri, ii = 0,// is an animation frame pending?
    fi = 0,// is a timeout pending?
    ci = 0,// are any timers active?
    oi = 1e3, ui = 0, li = 0, si = 0, di = "object" == typeof performance && performance.now ? performance : Date, hi = "object" == typeof window && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (e) { setTimeout(e, 17) }; function bi() { return li || (hi(gi), li = di.now() + si) } function gi() { li = 0 } function pi() { this._call = this._time = this._next = null } function mi(e, t, n) { var a = new pi; return a.restart(e, t, n), a } function vi() {
        li = (ui = di.now()) + si, ii = fi = 0; try {
            !function () {
                bi(),// Get the current time, if not already set.
                ++ii; for (// Pretend we’ve set an alarm, if we haven’t already.
                var e, t = ai; t;) 0 <= (e = li - t._time) && t._call.call(null, e), t = t._next; --ii
            }()
        } finally { ii = 0, function () { var e, t, n = ai, a = 1 / 0; for (; n;) n = n._call ? (a > n._time && (a = n._time), (e = n)._next) : (t = n._next, n._next = null, e ? e._next = t : ai = t); ri = e, wi(a) }(), li = 0 }
    } function yi() { var e = di.now(), t = e - ui; oi < t && (si -= t, ui = e) } function wi(e) {
        ii || (// Soonest alarm already set, or will be.
        fi && (fi = clearTimeout(fi)),// Strictly less than if we recomputed clockNow.
        24 < e - li ? (e < 1 / 0 && (fi = setTimeout(vi, e - di.now() - si)), ci && (ci = clearInterval(ci))) : (ci || (ui = di.now(), ci = setInterval(yi, oi)), ii = 1, hi(vi)))
    } function xi(t, n, e) { var a = new pi; return n = null == n ? 0 : +n, a.restart(function (e) { a.stop(), t(e + n) }, n, e), a } pi.prototype = mi.prototype = { constructor: pi, restart: function (e, t, n) { if ("function" != typeof e) throw new TypeError("callback is not a function"); n = (null == n ? bi() : +n) + (null == t ? 0 : +t), this._next || ri === this || (ri ? ri._next = this : ai = this, ri = this), this._call = e, this._time = n, wi() }, stop: function () { this._call && (this._call = null, this._time = 1 / 0, wi()) } }; var _i = Jr("start", "end", "interrupt"), Mi = [], Ai = 0, Si = 1, ki = 2, Di = 3, Ti = 4, Ci = 5, zi = 6; function Fi(e, t, n, a, r, i) {
        var f = e.__transition; if (f) { if (n in f) return } else e.__transition = {}; !function (i, f, c) {
            var o, u = i.__transition;
            // Initialize the self timer when the transition is created.
            // Note the actual delay is not known until the first callback!
            function l(e) {
                var t, n, a, r;
                // If the state is not SCHEDULED, then we previously errored on start.
                if (c.state !== Si) return d(); for (t in u) if ((r = u[t]).name === c.name) {
                    // While this element already has a starting transition during this frame,
                    // defer starting an interrupting transition until that transition has a
                    // chance to tick (and possibly end); see d3/d3-transition#54!
                    if (r.state === Di) return xi(l);
                    // Interrupt the active transition, if any.
                    // Dispatch the interrupt event.
                    r.state === Ti ? (r.state = zi, r.timer.stop(), r.on.call("interrupt", i, i.__data__, r.index, r.group), delete u[t]) : +t < f && (r.state = zi, r.timer.stop(), delete u[t])
                }
                // Defer the first tick to end of the current frame; see d3/d3#1576.
                // Note the transition may be canceled after start and before the first tick!
                // Note this must be scheduled before the start event; see d3/d3-transition#16!
                // Assuming this is successful, subsequent callbacks go straight to tick.
                if (xi(function () { c.state === Di && (c.state = Ti, c.timer.restart(s, c.delay, c.time), s(e)) }),
                    // Dispatch the start event.
                    // Note this must be done before the tween are initialized.
                c.state = ki, c.on.call("start", i, i.__data__, c.index, c.group), c.state === ki) {
                    for (// interrupted
                    c.state = Di,
                        // Initialize the tween, deleting null tween.
                    o = new Array(a = c.tween.length), t = 0, n = -1; t < a; ++t) (r = c.tween[t].value.call(i, i.__data__, c.index, c.group)) && (o[++n] = r); o.length = n + 1
                }
            } function s(e) {
                for (var t = e < c.duration ? c.ease.call(null, e / c.duration) : (c.timer.restart(d), c.state = Ci, 1), n = -1, a = o.length; ++n < a;) o[n].call(null, t);
                // Dispatch the end event.
                c.state === Ci && (c.on.call("end", i, i.__data__, c.index, c.group), d())
            } function d() {
                for (var e in c.state = zi, c.timer.stop(), delete u[f], u) return;// eslint-disable-line no-unused-vars
                delete i.__transition
            } (u[f] = c).timer = mi(function (e) {
                // If the elapsed delay is less than our first sleep, start immediately.
                c.state = Si, c.timer.restart(l, c.delay, c.time), c.delay <= e && l(e - c.delay)
            }, 0, c.time)
        }(e, n, {
            name: t, index: a,// For context during callback.
            group: r,// For context during callback.
            on: _i, tween: Mi, time: i.time, delay: i.delay, duration: i.duration, ease: i.ease, timer: null, state: Ai
        })
    } function Ni(e, t) { var n = Ri(e, t); if (n.state > Ai) throw new Error("too late; already scheduled"); return n } function Hi(e, t) { var n = Ri(e, t); if (n.state > ki) throw new Error("too late; already started"); return n } function Ri(e, t) { var n = e.__transition; if (!n || !(n = n[t])) throw new Error("transition not found"); return n } function Li(e, t) { var n, a, r, i = e.__transition, f = !0; if (i) { for (r in t = null == t ? null : t + "", i) (n = i[r]).name === t ? (a = n.state > ki && n.state < Ci, n.state = zi, n.timer.stop(), a && n.on.call("interrupt", e, e.__data__, n.index, n.group), delete i[r]) : f = !1; f && delete e.__transition } } function Ui(e, t, n) { var a = e._id; return e.each(function () { var e = Hi(this, a); (e.value || (e.value = {}))[t] = n.apply(this, arguments) }), function (e) { return Ri(e, a).value[t] } } function Ei(e, t) { var n; return ("number" == typeof t ? qe : t instanceof ne ? Ie : (n = ne(t)) ? (t = n, Ie) : We)(e, t) } var Yi = Mr.prototype.constructor; var Oi = 0; function Pi(e, t, n, a) { this._groups = e, this._parents = t, this._name = n, this._id = a } function Ii() { return ++Oi } var Xi = Mr.prototype; Pi.prototype = function (e) { return Mr().transition(e) }.prototype = {
        constructor: Pi, select: function (e) { var t = this._name, n = this._id; "function" != typeof e && (e = Pa(e)); for (var a = this._groups, r = a.length, i = new Array(r), f = 0; f < r; ++f) for (var c, o, u = a[f], l = u.length, s = i[f] = new Array(l), d = 0; d < l; ++d) (c = u[d]) && (o = e.call(c, c.__data__, d, u)) && ("__data__" in c && (o.__data__ = c.__data__), s[d] = o, Fi(s[d], t, n, d, s, Ri(c, n))); return new Pi(i, this._parents, t, n) }, selectAll: function (e) { var t = this._name, n = this._id; "function" != typeof e && (e = Xa(e)); for (var a = this._groups, r = a.length, i = [], f = [], c = 0; c < r; ++c) for (var o, u = a[c], l = u.length, s = 0; s < l; ++s) if (o = u[s]) { for (var d, h = e.call(o, o.__data__, s, u), b = Ri(o, n), g = 0, p = h.length; g < p; ++g) (d = h[g]) && Fi(d, t, n, g, h, b); i.push(h), f.push(o) } return new Pi(i, f, t, n) }, filter: function (e) { "function" != typeof e && (e = Ba(e)); for (var t = this._groups, n = t.length, a = new Array(n), r = 0; r < n; ++r) for (var i, f = t[r], c = f.length, o = a[r] = [], u = 0; u < c; ++u) (i = f[u]) && e.call(i, i.__data__, u, f) && o.push(i); return new Pi(a, this._parents, this._name, this._id) }, merge: function (e) { if (e._id !== this._id) throw new Error; for (var t = this._groups, n = e._groups, a = t.length, r = n.length, i = Math.min(a, r), f = new Array(a), c = 0; c < i; ++c) for (var o, u = t[c], l = n[c], s = u.length, d = f[c] = new Array(s), h = 0; h < s; ++h) (o = u[h] || l[h]) && (d[h] = o); for (; c < a; ++c) f[c] = t[c]; return new Pi(f, this._parents, this._name, this._id) }, selection: function () { return new Yi(this._groups, this._parents) }, transition: function () { for (var e = this._name, t = this._id, n = Ii(), a = this._groups, r = a.length, i = 0; i < r; ++i) for (var f, c = a[i], o = c.length, u = 0; u < o; ++u) if (f = c[u]) { var l = Ri(f, t); Fi(f, e, n, u, c, { time: l.time + l.delay + l.duration, delay: 0, duration: l.duration, ease: l.ease }) } return new Pi(a, this._parents, e, n) }, call: Xi.call, nodes: Xi.nodes, node: Xi.node, size: Xi.size, empty: Xi.empty, each: Xi.each, on: function (e, t) {
            var n, a, r, i, f, c, o = this._id; return arguments.length < 2 ? Ri(this.node(), o).on.on(e) : this.each((n = o, r = t, c = ((a = e) + "").trim().split(/^|\s+/).every(function (e) { var t = e.indexOf("."); return 0 <= t && (e = e.slice(0, t)), !e || "start" === e }) ? Ni : Hi, function () {
                var e = c(this, n), t = e.on;
                // If this node shared a dispatch with the previous node,
                // just assign the updated shared dispatch and we’re done!
                // Otherwise, copy-on-write.
                t !== i && (f = (i = t).copy()).on(a, r), e.on = f
            }))
        }, attr: function (e, t) { var n = Ea(e), a = "transform" === n ? it : Ei; return this.attrTween(e, "function" == typeof t ? (n.local ? function (n, a, r) { var i, f, c; return function () { var e, t = r(this); if (null != t) return (e = this.getAttributeNS(n.space, n.local)) === t ? null : e === i && t === f ? c : c = a(i = e, f = t); this.removeAttributeNS(n.space, n.local) } } : function (n, a, r) { var i, f, c; return function () { var e, t = r(this); if (null != t) return (e = this.getAttribute(n)) === t ? null : e === i && t === f ? c : c = a(i = e, f = t); this.removeAttribute(n) } })(n, a, Ui(this, "attr." + e, t)) : null == t ? (n.local ? function (e) { return function () { this.removeAttributeNS(e.space, e.local) } } : function (e) { return function () { this.removeAttribute(e) } })(n) : (n.local ? function (t, n, a) { var r, i; return function () { var e = this.getAttributeNS(t.space, t.local); return e === a ? null : e === r ? i : i = n(r = e, a) } } : function (t, n, a) { var r, i; return function () { var e = this.getAttribute(t); return e === a ? null : e === r ? i : i = n(r = e, a) } })(n, a, t + "")) }, attrTween: function (e, t) { var n = "attr." + e; if (arguments.length < 2) return (n = this.tween(n)) && n._value; if (null == t) return this.tween(n, null); if ("function" != typeof t) throw new Error; var a = Ea(e); return this.tween(n, (a.local ? function (a, e) { function t() { var t = this, n = e.apply(t, arguments); return n && function (e) { t.setAttributeNS(a.space, a.local, n(e)) } } return t._value = e, t } : function (a, e) { function t() { var t = this, n = e.apply(t, arguments); return n && function (e) { t.setAttribute(a, n(e)) } } return t._value = e, t })(a, t)) }, style: function (e, t, n) { var a, r, i, f, c, o, u, l, s, d, h, b, g, p, m, v, y, w = "transform" == (e += "") ? rt : Ei; return null == t ? this.styleTween(e, (g = e, p = w, function () { var e = er(this, g), t = (this.style.removeProperty(g), er(this, g)); return e === t ? null : e === m && t === v ? y : y = p(m = e, v = t) })).on("end.style." + e, (b = e, function () { this.style.removeProperty(b) })) : this.styleTween(e, "function" == typeof t ? (u = w, l = Ui(this, "style." + (o = e), t), function () { var e = er(this, o), t = l(this); return null == t && (this.style.removeProperty(o), t = er(this, o)), e === t ? null : e === s && t === d ? h : h = u(s = e, d = t) }) : (a = e, r = w, i = t + "", function () { var e = er(this, a); return e === i ? null : e === f ? c : c = r(f = e, i) }), n) }, styleTween: function (e, t, n) { var a = "style." + (e += ""); if (arguments.length < 2) return (a = this.tween(a)) && a._value; if (null == t) return this.tween(a, null); if ("function" != typeof t) throw new Error; return this.tween(a, function (a, e, r) { function t() { var t = this, n = e.apply(t, arguments); return n && function (e) { t.style.setProperty(a, n(e), r) } } return t._value = e, t }(e, t, null == n ? "" : n)) }, text: function (e) { return this.tween("text", "function" == typeof e ? (n = Ui(this, "text", e), function () { var e = n(this); this.textContent = null == e ? "" : e }) : (t = null == e ? "" : e + "", function () { this.textContent = t })); var t, n }, remove: function () { return this.on("end.remove", (n = this._id, function () { var e = this.parentNode; for (var t in this.__transition) if (+t !== n) return; e && e.removeChild(this) })); var n }, tween: function (e, t) {
            var n = this._id; if (e += "", arguments.length < 2) { for (var a, r = Ri(this.node(), n).tween, i = 0, f = r.length; i < f; ++i) if ((a = r[i]).name === e) return a.value; return null } return this.each((null == t ? function (r, i) {
                var f, c; return function () {
                    var e = Hi(this, r), t = e.tween;
                    // If this node shared tween with the previous node,
                    // just assign the updated shared tween and we’re done!
                    // Otherwise, copy-on-write.
                    if (t !== f) for (var n = 0, a = (c = f = t).length; n < a; ++n) if (c[n].name === i) { (c = c.slice()).splice(n, 1); break } e.tween = c
                }
            } : function (i, f, c) {
                var o, u; if ("function" != typeof c) throw new Error; return function () {
                    var e = Hi(this, i), t = e.tween;
                    // If this node shared tween with the previous node,
                    // just assign the updated shared tween and we’re done!
                    // Otherwise, copy-on-write.
                    if (t !== o) { u = (o = t).slice(); for (var n = { name: f, value: c }, a = 0, r = u.length; a < r; ++a) if (u[a].name === f) { u[a] = n; break } a === r && u.push(n) } e.tween = u
                }
            })(n, e, t))
        }, delay: function (e) { var t = this._id; return arguments.length ? this.each(("function" == typeof e ? function (e, t) { return function () { Ni(this, e).delay = +t.apply(this, arguments) } } : function (e, t) { return t = +t, function () { Ni(this, e).delay = t } })(t, e)) : Ri(this.node(), t).delay }, duration: function (e) { var t = this._id; return arguments.length ? this.each(("function" == typeof e ? function (e, t) { return function () { Hi(this, e).duration = +t.apply(this, arguments) } } : function (e, t) { return t = +t, function () { Hi(this, e).duration = t } })(t, e)) : Ri(this.node(), t).duration }, ease: function (e) { var t = this._id; return arguments.length ? this.each(function (e, t) { if ("function" != typeof t) throw new Error; return function () { Hi(this, e).ease = t } }(t, e)) : Ri(this.node(), t).ease }
    }; Math.PI, Math.PI; var ji = {
        time: null,// Set on use.
        delay: 0, duration: 250, ease: function (e) { return ((e *= 2) <= 1 ? e * e * e : (e -= 2) * e * e + 2) / 2 }
    }; function qi(e, t) { for (var n; !(n = e.__transition) || !(n = n[t]) ;) if (!(e = e.parentNode)) return ji.time = bi(), ji; return n } function Vi(e) { return function () { return e } } function Bi(e, t, n) { this.target = e, this.type = t, this.selection = n } function Wi() { gr.stopImmediatePropagation() } function Gi() { gr.preventDefault(), gr.stopImmediatePropagation() } Mr.prototype.interrupt = function (e) { return this.each(function () { Li(this, e) }) }, Mr.prototype.transition = function (e) { var t, n; e = e instanceof Pi ? (t = e._id, e._name) : (t = Ii(), (n = ji).time = bi(), null == e ? null : e + ""); for (var a = this._groups, r = a.length, i = 0; i < r; ++i) for (var f, c = a[i], o = c.length, u = 0; u < o; ++u) (f = c[u]) && Fi(f, e, t, u, c, n || qi(f, t)); return new Pi(a, this._parents, e, t) }; var $i = { name: "drag" }, Zi = { name: "space" }, Qi = { name: "handle" }, Ji = { name: "center" }, Ki = { name: "x", handles: ["e", "w"].map(cf), input: function (e, t) { return e && [[e[0], t[0][1]], [e[1], t[1][1]]] }, output: function (e) { return e && [e[0][0], e[1][0]] } }, ef = { name: "y", handles: ["n", "s"].map(cf), input: function (e, t) { return e && [[t[0][0], e[0]], [t[1][0], e[1]]] }, output: function (e) { return e && [e[0][1], e[1][1]] } }, tf = { overlay: "crosshair", selection: "move", n: "ns-resize", e: "ew-resize", s: "ns-resize", w: "ew-resize", nw: "nwse-resize", ne: "nesw-resize", se: "nwse-resize", sw: "nesw-resize" }, nf = { e: "w", w: "e", nw: "ne", ne: "nw", se: "sw", sw: "se" }, af = { n: "s", s: "n", nw: "sw", ne: "se", se: "ne", sw: "nw" }, rf = { overlay: 1, selection: 1, n: null, e: 1, s: null, w: -1, nw: -1, ne: 1, se: 1, sw: -1 }, ff = { overlay: 1, selection: 1, n: -1, e: null, s: 1, w: null, nw: -1, ne: -1, se: 1, sw: 1 }; function cf(e) { return { type: e } }
    // Ignore right-click, since that should open the context menu.
    function of() { return !gr.button } function uf() { var e = this.ownerSVGElement || this; return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]] }
    // Like d3.local, but with the name “__brush” rather than auto-generated.
    function lf(e) { for (; !e.__brush;) if (!(e = e.parentNode)) return; return e.__brush } function sf(e) { return e[0][0] === e[1][0] || e[0][1] === e[1][1] } function df() {
        return function (Y) {
            var O, t = uf, P = of, n = Jr(r, "start", "brush", "end"), a = 6; function r(e) { var t = e.property("__brush", c).selectAll(".overlay").data([cf("overlay")]); t.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", tf.overlay).merge(t).each(function () { var e = lf(this).extent; Ar(this).attr("x", e[0][0]).attr("y", e[0][1]).attr("width", e[1][0] - e[0][0]).attr("height", e[1][1] - e[0][1]) }), e.selectAll(".selection").data([cf("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", tf.selection).attr("fill", "#777").attr("fill-opacity", .3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges"); var n = e.selectAll(".handle").data(Y.handles, function (e) { return e.type }); n.exit().remove(), n.enter().append("rect").attr("class", function (e) { return "handle handle--" + e.type }).attr("cursor", function (e) { return tf[e.type] }), e.each(I).attr("fill", "none").attr("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush touchstart.brush", f) } function I() { var e = Ar(this), t = lf(this).selection; t ? (e.selectAll(".selection").style("display", null).attr("x", t[0][0]).attr("y", t[0][1]).attr("width", t[1][0] - t[0][0]).attr("height", t[1][1] - t[0][1]), e.selectAll(".handle").style("display", null).attr("x", function (e) { return "e" === e.type[e.type.length - 1] ? t[1][0] - a / 2 : t[0][0] - a / 2 }).attr("y", function (e) { return "s" === e.type[0] ? t[1][1] - a / 2 : t[0][1] - a / 2 }).attr("width", function (e) { return "n" === e.type || "s" === e.type ? t[1][0] - t[0][0] + a : a }).attr("height", function (e) { return "e" === e.type || "w" === e.type ? t[1][1] - t[0][1] + a : a })) : e.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null) } function X(e, t) { return e.__brush.emitter || new i(e, t) } function i(e, t) { this.that = e, this.args = t, this.state = e.__brush, this.active = 0 } function f() {
                if (gr.touches) { if (gr.changedTouches.length < gr.touches.length) return Gi() } else if (O) return; if (P.apply(this, arguments)) {
                    var t, n, a, r, i, f, c, o, u, l, s, d, h, b = this, g = gr.target.__data__.type, p = "selection" === (gr.metaKey ? g = "overlay" : g) ? $i : gr.altKey ? Ji : Qi, m = Y === ef ? null : rf[g], v = Y === Ki ? null : ff[g], y = lf(b), e = y.extent, w = y.selection, x = e[0][0], _ = e[0][1], M = e[1][0], A = e[1][1], S = m && v && gr.shiftKey, k = Sr(b), D = k, T = X(b, arguments).beforestart(); "overlay" === g ? y.selection = w = [[t = Y === ef ? x : k[0], a = Y === Ki ? _ : k[1]], [i = Y === ef ? M : t, c = Y === Ki ? A : a]] : (t = w[0][0], a = w[0][1], i = w[1][0], c = w[1][1]), n = t, r = a, f = i, o = c; var C, z, F, N = Ar(b).attr("pointer-events", "none"), H = N.selectAll(".overlay").attr("cursor", tf[g]); if (gr.touches) N.on("touchmove.brush", L, !0).on("touchend.brush touchcancel.brush", E, !0); else {
                        var R = Ar(gr.view).on("keydown.brush", function () {
                            switch (gr.keyCode) {
                                case 16:// SHIFT
                                    S = m && v; break; case 18:// ALT
                                        p === Qi && (m && (i = f - u * m, t = n + u * m), v && (c = o - l * v, a = r + l * v), p = Ji, U()); break; case 32:// SPACE; takes priority over ALT
                                            p !== Qi && p !== Ji || (m < 0 ? i = f - u : 0 < m && (t = n - u), v < 0 ? c = o - l : 0 < v && (a = r - l), p = Zi, H.attr("cursor", tf.selection), U()); break; default: return
                            } Gi()
                        }, !0).on("keyup.brush", function () {
                            switch (gr.keyCode) {
                                case 16:// SHIFT
                                    S && (d = h = S = !1, U()); break; case 18:// ALT
                                        p === Ji && (m < 0 ? i = f : 0 < m && (t = n), v < 0 ? c = o : 0 < v && (a = r), p = Qi, U()); break; case 32:// SPACE
                                            p === Zi && (p = gr.altKey ? (m && (i = f - u * m, t = n + u * m), v && (c = o - l * v, a = r + l * v), Ji) : (m < 0 ? i = f : 0 < m && (t = n), v < 0 ? c = o : 0 < v && (a = r), Qi), H.attr("cursor", tf[g]), U()); break; default: return
                            } Gi()
                        }, !0).on("mousemove.brush", L, !0).on("mouseup.brush", E, !0); C = gr.view, z = C.document.documentElement, F = Ar(C).on("dragstart.drag", ni, !0), "onselectstart" in z ? F.on("selectstart.drag", ni, !0) : (z.__noselect = z.style.MozUserSelect, z.style.MozUserSelect = "none")
                    } Wi(), Li(b), I.call(b), T.start()
                } function L() { var e = Sr(b); !S || d || h || (Math.abs(e[0] - D[0]) > Math.abs(e[1] - D[1]) ? h = !0 : d = !0), D = e, s = !0, Gi(), U() } function U() {
                    var e; switch (u = D[0] - k[0], l = D[1] - k[1], p) { case Zi: case $i: m && (u = Math.max(x - t, Math.min(M - i, u)), n = t + u, f = i + u), v && (l = Math.max(_ - a, Math.min(A - c, l)), r = a + l, o = c + l); break; case Qi: m < 0 ? (u = Math.max(x - t, Math.min(M - t, u)), n = t + u, f = i) : 0 < m && (u = Math.max(x - i, Math.min(M - i, u)), n = t, f = i + u), v < 0 ? (l = Math.max(_ - a, Math.min(A - a, l)), r = a + l, o = c) : 0 < v && (l = Math.max(_ - c, Math.min(A - c, l)), r = a, o = c + l); break; case Ji: m && (n = Math.max(x, Math.min(M, t - u * m)), f = Math.max(x, Math.min(M, i + u * m))), v && (r = Math.max(_, Math.min(A, a - l * v)), o = Math.max(_, Math.min(A, c + l * v))) } f < n && (m *= -1, e = t, t = i, i = e, e = n, n = f, f = e, g in nf && H.attr("cursor", tf[g = nf[g]])), o < r && (v *= -1, e = a, a = c, c = e, e = r, r = o, o = e, g in af && H.attr("cursor", tf[g = af[g]])), y.selection && (w = y.selection),// May be set by brush.move!
                    d && (n = w[0][0], f = w[1][0]), h && (r = w[0][1], o = w[1][1]), w[0][0] === n && w[0][1] === r && w[1][0] === f && w[1][1] === o || (y.selection = [[n, r], [f, o]], I.call(b), T.brush())
                } function E() {
                    if (Wi(), gr.touches) {
                        if (gr.touches.length) return; O && clearTimeout(O), O = setTimeout(function () { O = null }, 500),// Ghost clicks are delayed!
                        N.on("touchmove.brush touchend.brush touchcancel.brush", null)
                    } else e = gr.view, t = s, n = e.document.documentElement, a = Ar(e).on("dragstart.drag", null), t && (a.on("click.drag", ni, !0), setTimeout(function () { a.on("click.drag", null) }, 0)), "onselectstart" in n ? a.on("selectstart.drag", null) : (n.style.MozUserSelect = n.__noselect, delete n.__noselect), R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null); var e, t, n, a; N.attr("pointer-events", "all"), H.attr("cursor", tf.overlay), y.selection && (w = y.selection),// May be set by brush.move (on start)!
                    sf(w) && (y.selection = null, I.call(b)), T.end()
                }
            } function c() { var e = this.__brush || { selection: null }; return e.extent = t.apply(this, arguments), e.dim = Y, e } return r.move = function (e, c) { e.selection ? e.on("start.brush", function () { X(this, arguments).beforestart().start() }).on("interrupt.brush end.brush", function () { X(this, arguments).end() }).tween("brush", function () { var t = this, n = t.__brush, a = X(t, arguments), e = n.selection, r = Y.input("function" == typeof c ? c.apply(this, arguments) : c, n.extent), i = Ge(e, r); function f(e) { n.selection = 1 === e && sf(r) ? null : i(e), I.call(t), a.brush() } return e && r ? f : f(1) }) : e.each(function () { var e = this, t = arguments, n = e.__brush, a = Y.input("function" == typeof c ? c.apply(e, t) : c, n.extent), r = X(e, t).beforestart(); Li(e), n.selection = null == a || sf(a) ? null : a, I.call(e), r.start().brush().end() }) }, i.prototype = { beforestart: function () { return 1 == ++this.active && ((this.state.emitter = this).starting = !0), this }, start: function () { return this.starting && (this.starting = !1, this.emit("start")), this }, brush: function () { return this.emit("brush"), this }, end: function () { return 0 == --this.active && (delete this.state.emitter, this.emit("end")), this }, emit: function (e) { !function (e, t, n, a) { var r = gr; e.sourceEvent = gr, gr = e; try { t.apply(n, a) } finally { gr = r } }(new Bi(r, e, Y.output(this.state.selection)), n.apply, n, [e, this.that, this.args]) } }, r.extent = function (e) { return arguments.length ? (t = "function" == typeof e ? e : Vi([[+e[0][0], +e[0][1]], [+e[1][0], +e[1][1]]]), r) : t }, r.filter = function (e) { return arguments.length ? (P = "function" == typeof e ? e : Vi(!!e), r) : P }, r.handleSize = function (e) { return arguments.length ? (a = +e, r) : a }, r.on = function () { var e = n.on.apply(n, arguments); return e === n ? r : e }, r
        }(Ki)
    } var hf = a({
        props: { width: { default: 300 }, height: { default: 20 }, margins: { default: { top: 0, right: 0, bottom: 20, left: 0 } }, scale: {}, domainRange: {}, currentSelection: {}, tickFormat: {}, onChange: { default: function (e, t) { } } }, init: function (e, t) {
            t.xGrid = v().tickFormat(""), t.xAxis = v().tickPadding(0), t.brush = df().on("end", function () { if (gr.sourceEvent) { var e = gr.selection ? gr.selection.map(t.scale.invert) : t.scale.domain(); t.onChange.apply(t, f(e)) } }),// Build dom
            t.svg = Ar(e).append("svg").attr("class", "brusher"); var n = t.svg.append("g").attr("class", "brusher-margins"); n.append("rect").attr("class", "grid-background"), n.append("g").attr("class", "x grid"), n.append("g").attr("class", "x axis"), n.append("g").attr("class", "brush")
        }, update: function (e) { if (!(e.domainRange[1] <= e.domainRange[0])) { var t = e.width - e.margins.left - e.margins.right, n = e.height - e.margins.top - e.margins.bottom; e.scale.domain(e.domainRange).range([0, t]), e.xAxis.scale(e.scale).tickFormat(e.tickFormat), e.xGrid.scale(e.scale).tickSize(-n), e.svg.attr("width", e.width).attr("height", e.height), e.svg.select(".brusher-margins").attr("transform", "translate(".concat(e.margins.left, ",").concat(e.margins.top, ")")), e.svg.select(".grid-background").attr("width", t).attr("height", n), e.svg.select(".x.grid").attr("transform", "translate(0," + n + ")").call(e.xGrid), e.svg.select(".x.axis").attr("transform", "translate(0," + n + ")").call(e.xAxis).selectAll("text").attr("y", 8), e.svg.select(".brush").call(e.brush.extent([[0, 0], [t, n]])).call(e.brush.move, e.currentSelection.map(e.scale)).selectAll("rect").attr("height", n) } }
    }); function bf(e, t) {
        var n = e.split(/(\d+)/), a = t.split(/(\d+)/); n.length && "" == n[n.length - 1] && n.pop(),// remove the last element if empty
        a.length && "" == a[a.length - 1] && a.pop();// remove the last element if empty
        for (var r = 0, i = Math.max(n.length, a.length) ; r < i; r++) {
            if (n.length == r || a.length == r)
                // Out of bounds for one of the sides
                return n.length - a.length; if (n[r] != a[r])
                    // find the first non-equal part
                    return n[r].match(/\d/) ? +n[r] - +a[r] : n[r].toLowerCase() > a[r].toLowerCase() ? 1 : -1
        } return 0
    } return a({
        props: {
            dateParser: { default: !1 }, rightAxis: { default: !0 }, groupLayout: { default: !1 }, timelineText: { default: !1 }, data: {
                default: [], onChange: function (e, d) {
                    !//
                    function (e) {
                        d.completeStructData = [], d.completeFlatData = [], d.totalNLines = 0; var t = !!e.length && e[0].data[0].data[0].timeRange[0] instanceof Date, n = ln(d.timeFormat); if (d.dateParser) for (var a = 0, r = e.length; a < r; a++) for (var i = 0, f = e[a].data.length; i < f; i++) for (var c = 0, o = e[a].data[i].data.length; c < o; c++) e[a].data[i].data[c].timeRange[0] = n(e[a].data[i].data[c].timeRange[0]), e[a].data[i].data[c].timeRange[1] = n(e[a].data[i].data[c].timeRange[1]); for (var a = 0, r = e.length; a < r; a++) for (var i = 0, f = e[a].data.length; i < f; i++) for (var c = 0, o = e[a].data[i].data.length; c < o; c++) d.completeFlatData.push({ group: e[a].group, description: e[a].data[i].data[c].description, label: e[a].data[i].label, timeRange: t ? e[a].data[i].data[c].timeRange : [new Date(e[a].data[i].data[c].timeRange[0]), new Date(e[a].data[i].data[c].timeRange[1])], val: e[a].data[i].data[c].val, labelVal: e[a].data[i].data[c][e[a].data[i].data[c].hasOwnProperty("labelVal") ? "labelVal" : "val"], line: 0 }); if (d.groupLayout) {
                            var u = d.completeFlatData.map(function (e) { return e.group }).reduce(function (e, t) { return -1 == e.indexOf(t) ? e.concat(t) : e }, []).filter(function (e) { return void 0 !== e && null !== e }); d.completeFlatData.sort(function (e, t) { return n = e.timeRange[0], (a = t.timeRange[0]) < n ? -1 : n < a ? 1 : n <= a ? 0 : NaN; var n, a }), u.forEach(function (t) {
                                var n, a, e = d.completeFlatData.filter(function (e) { return e.group === t }), r = [], i = g(d.completeFlatData, function (e) { return e.line }) || 0;//function calculateTracks(items) {
                                e.forEach(function (e) { for (a = n = 0; n < r.length && !(e.timeRange[1] <= r[n]) ; n++, a++); e.line = a + i + 1, e.label = "line" + e.line, r[a] = e.timeRange[0] })
                            }), d.completeStructData.sort(function (e, t) { return h(e.group, t.group) })
                        }//restart here all layouts
                        for (var l = d.completeFlatData.map(function (e) { return e.group }).reduce(function (e, t) { return -1 == e.indexOf(t) ? e.concat(t) : e }, []), a = 0, r = l.length; a < r; a++) d.completeStructData.push({ group: l[a], lines: d.completeFlatData.map(function (e) { return e.group === l[a] ? e.label : null }).reduce(function (e, t) { return -1 == e.indexOf(t) ? e.concat(t) : e }, []).filter(function (e) { return void 0 !== e && null !== e }) }); var s = d.completeFlatData.map(function (e) { return e.label }).reduce(function (e, t) { return -1 == e.indexOf(t) ? e.concat(t) : e }, []).filter(function (e) { return void 0 !== e && null !== e }); d.groupLayout ? d.totalNLines = g(d.completeFlatData, function (e) { return e.line }) + 1 : d.totalNLines = s.length
                    }(e), d.zoomX = [p(d.completeFlatData, function (e) { return e.timeRange[0] }), g(d.completeFlatData, function (e) { return e.timeRange[1] })], d.zoomY = [null, null], d.overviewArea && d.overviewArea.domainRange(d.zoomX).currentSelection(d.zoomX)
                }
            }, width: { default: window.innerWidth }, maxHeight: { default: 640 }, maxLineHeight: { default: 12 }, leftMargin: { default: 90 }, rightMargin: { default: 100 }, topMargin: { default: 26 }, bottomMargin: { default: 30 }, useUtc: { default: !1 }, xTickFormat: {}, timeFormat: { default: "%Y-%m-%d %-I:%M:%S %p", triggerUpdate: !1 }, zoomX: {
                // Which time-range to show (null = min/max)
                default: [null, null], onChange: function (e, t) { t.svg && t.svg.dispatch("zoom", { detail: { zoomX: e, zoomY: null, redraw: !1 } }) }
            }, zoomY: {
                // Which lines to show (null = min/max) [0 indexed]
                default: [null, null], onChange: function (e, t) { t.svg && t.svg.dispatch("zoom", { detail: { zoomX: null, zoomY: e, redraw: !1 } }) }
            }, minSegmentDuration: {}, zColorScale: { default: Ra(Fr) }, zQualitative: {
                default: !1, onChange: function (e, t) {
                    t.zColorScale = e ? Y([].concat(f(Tr), f(Cr))) : Ra(Fr);// alt: d3.interpolateInferno
                }
            }, zDataLabel: { default: "", triggerUpdate: !1 },
            // Units of z data. Used in the tooltip descriptions
            zScaleLabel: { default: "", triggerUpdate: !1 },
            // Units of colorScale. Used in the legend label
            enableOverview: { default: !0 },
            // True/False
            enableAnimations: { default: !0, onChange: function (e, t) { t.transDuration = e ? 700 : 0 } },
            // Callbacks
            onZoom: {},
            // When user zooms in / resets zoom. Returns ([startX, endX], [startY, endY])
            onLabelClick: {}
        }, methods: {
            getNLines: function (e) { return e.nLines }, getTotalNLines: function (e) { return e.totalNLines }, getVisibleStructure: function (e) { return e.structData }, getSvg: function (e) { return Ar(e.svg.node().parentNode).html() }, zoomYLabels: function (l, e) {
                return e ? this.zoomY([n(e[0], !0), n(e[1], !1)]) : [t(l.zoomY[0]), t(l.zoomY[1])];//
                function t(e) {
                    if (null == e) return e; for (var t = e, n = 0, a = l.completeStructData.length; n < a; n++) { if (l.completeStructData[n].lines.length > t) return r(l.completeStructData[n], t); t -= l.completeStructData[n].lines.length }// y larger than all lines, return last
                    return r(l.completeStructData[l.completeStructData.length - 1], l.completeStructData[l.completeStructData.length - 1].lines.length - 1);//
                    function r(e, t) { return { group: e.group, label: e.lines[t] } }
                } function n(e, t) { var n = (t = t || !1) ? 0 : 1; if (null == e) return e; for (var a = 0, r = 0, i = l.completeStructData.length; r < i; r++) { var f = l.grpCmpFunction(e.group, l.completeStructData[r].group); if (f < 0) break; if (0 == f && e.group == l.completeStructData[r].group) { for (var c = 0, o = l.completeStructData[r].lines.length; c < o; c++) { var u = l.labelCmpFunction(e.label, l.completeStructData[r].lines[c]); if (u < 0) return a + c - n; if (0 == u && e.label == l.completeStructData[r].lines[c]) return a + c } return a + l.completeStructData[r].lines.length - n } a += l.completeStructData[r].lines.length } return a - n }
            }, sort: function (e, t, n) { null == t && (t = e.labelCmpFunction), null == n && (n = e.grpCmpFunction), e.labelCmpFunction = t, e.grpCmpFunction = n, e.completeStructData.sort(function (e, t) { return n(e.group, t.group) }); for (var a = 0, r = e.completeStructData.length; a < r; a++) e.completeStructData[a].lines.sort(t); return e._rerender(), this }, sortAlpha: function (e, n) { null == n && (n = !0); var t = function (e, t) { return bf(n ? e : t, n ? t : e) }; return this.sort(t, t) }, sortChrono: function (f, e) {
                function t(r) { for (var i = {}, e = function (e, t) { var n = r(f.completeFlatData[e]); if (i.hasOwnProperty(n)) return "continue"; var a = f.completeFlatData.filter(function (e) { return n == r(e) }); i[n] = [p(a, function (e) { return e.timeRange[0] }), g(a, function (e) { return e.timeRange[1] })] }, t = 0, n = f.completeFlatData.length; t < n; t++) e(t); return i } null == e && (e = !0); var r = function (e, t) {
                    var n = e[1], a = t[1]; return n && a ?// One of the two vals is null
                    n[1].getTime() == a[1].getTime() ? n[0].getTime() == a[0].getTime() ? bf(e[0], t[0]) : n[0] - a[0] : a[1] - n[1] : null
                }; function n(n, a) { return function (e, t) { return r(n(a ? e : t), n(a ? t : e)) } } var a = t(function (e) { return e.group }), i = t(function (e) { return e.label }), c = n(function (e) { return [e, a[e] || null] }, e), o = n(function (e) { return [e, i[e] || null] }, e); return this.sort(o, c)
            }, overviewDomain: function (e, t) { return e.enableOverview ? t ? (e.overviewArea.domainRange(t), this) : e.overviewArea.domainRange() : null }, refresh: function (e) { return e._rerender(), this }
        }, stateInit: {
            height: null, overviewHeight: 20,
            // Height of overview section in bottom
            minLabelFont: 2, groupBkgGradient: ["#FAFAFA", "#E0E0E0"], yScale: null, grpScale: null, xAxis: null, xGrid: null, yAxis: null, grpAxis: null, svg: null, graph: null, overviewAreaElem: null, overviewArea: null, graphW: null, graphH: null, completeStructData: null, structData: null, completeFlatData: null, flatData: null, totalNLines: null, nLines: null, minSegmentDuration: 0,
            // ms
            transDuration: 700,
            // ms for transition duration
            labelCmpFunction: bf, grpCmpFunction: bf
        }, init: function (e, o) {
            var t, n, a, r = Ar(e).attr("class", "timelines-chart"); o.svg = r.append("svg"), o.overviewAreaElem = r.append("div"),// Initialize scales and axes
            o.yScale = O(), o.grpScale = Y(), o.xAxis = v(), o.xGrid = m(D, t), o.yAxis = m(T, n), o.grpAxis = m(z, a),//
            function () {
                o.yScale.invert = t, o.grpScale.invert = t, o.groupGradId = Vr().colorScale(function e() { var t = bt(lt, qe); return t.copy = function () { return ht(t, e()) }, Nt(t) }().domain([0, 1]).range(o.groupBkgGradient)).angle(-90)(o.svg.node()).id(); var e = o.svg.append("g").attr("class", "axises"); e.append("g").attr("class", "x-axis"), e.append("g").attr("class", "x-grid"), e.append("g").attr("class", "y-axis"), e.append("g").attr("class", "grp-axis"), o.yAxis.scale(o.yScale).tickSize(0), o.grpAxis.scale(o.grpScale).tickSize(0), o.colorLegend = Zr()(o.svg.append("g").attr("class", "legendG").node()), o.graph = o.svg.append("g"), o.enableOverview && (o.overviewArea = hf().margins({ top: 1, right: 20, bottom: 20, left: 20 }).onChange(function (e, t) { o.svg.dispatch("zoom", { detail: { zoomX: [e, t], zoomY: null } }) }).domainRange(o.zoomX).currentSelection(o.zoomX)(o.overviewAreaElem.node()), o.svg.on("zoomScent", function () {
                    var e = gr.detail.zoomX; o.overviewArea && e && (// Out of overview bounds
                    e[0] < o.overviewArea.domainRange()[0] || e[1] > o.overviewArea.domainRange()[1] ? o.overviewArea.update([new Date(Math.min(e[0], o.overviewArea.domainRange()[0])), new Date(Math.max(e[1], o.overviewArea.domainRange()[1]))], o.zoomX) :
                    // Normal case
                    o.overviewArea.currentSelection(e))
                }));// Applies to ordinal scales (invert not supported in d3)
                function t(e, t) {
                    t = t || function (e, t) { return t <= e }; var n = this.domain(), a = this.range(); 2 === a.length && 2 !== n.length && (
                    // Special case, interpolate range vals
                    a = b(a[0], a[1], (a[1] - a[0]) / n.length)); for (var r = a[0], i = 0, f = a.length; i < f; i++) if (t(a[i] + r, e)) return n[Math.round(i * n.length / a.length)]; return this.domain()[this.domain().length - 1]
                }
            }(), o.groupTooltip = kr().attr("class", "chart-tooltip group-tooltip").direction("w").offset([0, 0]).html(function (e) { var t = e.hasOwnProperty("timeRange") ? o.xScale(e.timeRange[0]) : 0, n = e.hasOwnProperty("label") ? o.grpScale(e.group) - o.yScale(e.group + "+&+" + e.label) : 0; return o.groupTooltip.offset([n, -t]), e.group }), o.svg.call(o.groupTooltip), o.lineTooltip = kr().attr("class", "chart-tooltip line-tooltip").direction("e").offset([0, 0]).html(function (e) { var t = e.hasOwnProperty("timeRange") ? o.xScale.range()[1] - o.xScale(e.timeRange[1]) : 0; return o.lineTooltip.offset([0, t]), e.label }), o.svg.call(o.lineTooltip), o.segmentTooltip = kr().attr("class", "chart-tooltip segment-tooltip").direction("s").offset([5, 0]).html(function (e) { var t = o.zColorScale.domain()[o.zColorScale.domain().length - 1] - o.zColorScale.domain()[0], n = (o.useUtc ? sn : un)("".concat(o.timeFormat).concat(o.useUtc ? " (UTC)" : "")); return "<strong>" + e.labelVal + " </strong>" + o.zDataLabel + (t ? " (<strong>" + Math.round((e.val - o.zColorScale.domain()[0]) / t * 100 * 100) / 100 + "%</strong>)" : "") + "<br><strong>From: </strong>" + n(e.timeRange[0]) + "<br><strong>To: </strong>" + n(e.timeRange[1]) }), o.svg.call(o.segmentTooltip), o.graph.on("mousedown", function () { if (null == Ar(window).on("mousemove.zoomRect")) { var i = this; if (!(Sr(i)[0] < 0 || Sr(i)[0] > o.graphW || Sr(i)[1] < 0 || Sr(i)[1] > o.graphH)) { o.disableHover = !0; var f = o.graph.append("rect").attr("class", "chart-zoom-selection"), c = Sr(i); Ar(window).on("mousemove.zoomRect", function () { gr.stopPropagation(); var e = [Math.max(0, Math.min(o.graphW, Sr(i)[0])), Math.max(0, Math.min(o.graphH, Sr(i)[1]))]; f.attr("x", Math.min(c[0], e[0])).attr("y", Math.min(c[1], e[1])).attr("width", Math.abs(e[0] - c[0])).attr("height", Math.abs(e[1] - c[1])), o.svg.dispatch("zoomScent", { detail: { zoomX: [c[0], e[0]].sort(h).map(o.xScale.invert), zoomY: [c[1], e[1]].sort(h).map(function (e) { return o.yScale.domain().indexOf(o.yScale.invert(e)) + (o.zoomY && o.zoomY[0] ? o.zoomY[0] : 0) }) } }) }).on("mouseup.zoomRect", function () { Ar(window).on("mousemove.zoomRect", null).on("mouseup.zoomRect", null), Ar("body").classed("stat-noselect", !1), f.remove(), o.disableHover = !1; var e = [Math.max(0, Math.min(o.graphW, Sr(i)[0])), Math.max(0, Math.min(o.graphH, Sr(i)[1]))]; if (c[0] != e[0] || c[1] != e[1]) { var t = [c[0], e[0]].sort(h).map(o.xScale.invert), n = [c[1], e[1]].sort(h).map(function (e) { return o.yScale.domain().indexOf(o.yScale.invert(e)) + (o.zoomY && o.zoomY[0] ? o.zoomY[0] : 0) }), a = 6e4 < t[1] - t[0], r = n[0] != o.zoomY[0] || n[1] != o.zoomY[1]; (a || r) && o.svg.dispatch("zoom", { detail: { zoomX: a ? t : null, zoomY: r ? n : null } }) } }, !0), gr.stopPropagation() } } }), o.resetBtn = o.svg.append("text").attr("class", "reset-zoom-btn").text("Reset Zoom").style("text-anchor", "end").on("mouseup", function () { o.svg.dispatch("resetZoom") }).on("mouseover", function () { Ar(this).style("opacity", 1) }).on("mouseout", function () { Ar(this).style("opacity", .6) }), o.svg.on("zoom", function () { var e = gr.detail, t = e.zoomX, n = e.zoomY, a = null == e.redraw || e.redraw; (t || n) && (t && (o.zoomX = t), n && (o.zoomY = n), o.svg.dispatch("zoomScent", { detail: { zoomX: t, zoomY: n } }), a && (o._rerender(), o.onZoom && o.onZoom(o.zoomX, o.zoomY))) }), o.svg.on("resetZoom", function () { var e = o.zoomX, t = o.zoomY || [null, null], n = o.enableOverview ? o.overviewArea.domainRange() : [p(o.flatData, function (e) { return e.timeRange[0] }), g(o.flatData, function (e) { return e.timeRange[1] })], a = [null, null]; (e[0] < n[0] || e[1] > n[1] || t[0] != a[0] || t[1] != n[1]) && (o.zoomX = [new Date(Math.min(e[0], n[0])), new Date(Math.max(e[1], n[1]))], o.zoomY = a, o.svg.dispatch("zoomScent", { detail: { zoomX: o.zoomX, zoomY: o.zoomY } }), o._rerender()), o.onZoom && o.onZoom(null, null) })
        }, update: function (c) {
            !//
            function () {// zoomY
                if (
                    // Flat data based on segment length
                c.flatData = 0 < c.minSegmentDuration ? c.completeFlatData.filter(function (e) { return e.timeRange[1] - e.timeRange[0] >= c.minSegmentDuration }) : c.completeFlatData, null == c.zoomY || c.zoomY == [null, null]) { c.structData = c.completeStructData; for (var e = c.nLines = 0, t = c.structData.length; e < t; e++) c.nLines += c.structData[e].lines.length; return } c.structData = []; var r = [null == c.zoomY[0] ? 0 : c.zoomY[0]];// Initial threshold
                r.push(Math.max(0, (null == c.zoomY[1] ? c.totalNLines : c.zoomY[1] + 1) - r[0])),// Number of lines
                c.nLines = r[1]; var n = function (n, e) {
                    var t = c.completeStructData[n].lines; if (0 < c.minSegmentDuration) {
                        // Use only non-filtered (due to segment length) groups/labels
                        if (!c.flatData.some(function (e) { return e.group == c.completeStructData[n].group })) return "continue";// No data for this group
                        t = c.completeStructData[n].lines.filter(function (t) { return c.flatData.some(function (e) { return e.group == c.completeStructData[n].group && e.label == t }) })
                    } if (r[0] >= t.length)
                        // Ignore whole group (before start)
                        return r[0] -= t.length, "continue"; var a = { group: c.completeStructData[n].group, lines: null }; if (t.length - r[0] >= r[1])
                            // Last (or first && last) group (partial)
                            return a.lines = t.slice(r[0], r[1] + r[0]), c.structData.push(a), r[1] = 0, "break"; 0 < r[0] ? (
                    // First group (partial)
                            a.lines = t.slice(r[0]), r[0] = 0) :
                    // Middle group (full fit)
                            a.lines = t, c.structData.push(a), r[1] -= a.lines.length
                }; e: for (var a = 0, i = c.completeStructData.length; a < i; a++) { var f = n(a, i); switch (f) { case "continue": continue; case "break": break e } } c.nLines -= r[1]
            }(), c.graphW = c.width - c.leftMargin - c.rightMargin, c.graphH = p([c.nLines * c.maxLineHeight, c.maxHeight - c.topMargin - c.bottomMargin]), c.height = c.graphH + c.topMargin + c.bottomMargin, c.svg.transition().duration(c.transDuration).attr("width", c.width).attr("height", c.height), c.graph.attr("transform", "translate(" + c.leftMargin + "," + c.topMargin + ")"), c.overviewArea && c.overviewArea.width(.8 * c.width).height(c.overviewHeight + c.overviewArea.margins().top + c.overviewArea.margins().bottom), c.zoomX[0] = c.zoomX[0] || p(c.flatData, function (e) { return e.timeRange[0] }), c.zoomX[1] = c.zoomX[1] || g(c.flatData, function (e) { return e.timeRange[1] }), c.xScale = (c.useUtc ? function () { return Ha(an, nn, Kt, Qt, Zt, $t, Ot, Ut, sn).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]) } : function () { return Ha(Gt, Wt, qt, Xt, It, Pt, Ot, Ut, un).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]) })().domain(c.zoomX).range([0, c.graphW]).clamp(!0), c.overviewArea && c.overviewArea.scale(c.xScale.copy()).tickFormat(c.xTickFormat), function () { for (var n = [], e = function (t, e) { n = n.concat(c.structData[t].lines.map(function (e) { return c.structData[t].group + "+&+" + e })) }, t = 0, a = c.structData.length; t < a; t++) e(t, a); c.yScale.domain(n), c.yScale.range([c.graphH / n.length * .5, c.graphH * (1 - .5 / n.length)]) }(), function () { c.grpScale.domain(c.structData.map(function (e) { return e.group })); var n = 0; c.grpScale.range(c.structData.map(function (e) { var t = (n + e.lines.length / 2) / c.nLines * c.graphH; return n += e.lines.length, t })) }(), function () {
                c.svg.select(".axises").attr("transform", "translate(" + c.leftMargin + "," + c.topMargin + ")"),// X
                c.xAxis.scale(c.xScale).ticks(Math.round(.0011 * c.graphW)).tickFormat(c.xTickFormat), c.xGrid.scale(c.xScale).ticks(c.xAxis.ticks()[0]).tickFormat(""), c.svg.select("g.x-axis").style("stroke-opacity", 0).style("fill-opacity", 0).attr("transform", "translate(0," + c.graphH + ")").transition().duration(c.transDuration).call(c.xAxis).style("stroke-opacity", 1).style("fill-opacity", 1),
                /* Angled x axis labels
                         state.svg.select('g.x-axis').selectAll('text')
                         .style('text-anchor', 'end')
                         .attr('transform', 'translate(-10, 3) rotate(-60)');
                         */
                c.xGrid.tickSize(c.graphH), c.svg.select("g.x-grid").attr("transform", "translate(0," + c.graphH + ")").transition().duration(c.transDuration).call(c.xGrid);// Y
                var n = Math.ceil(c.nLines * c.minLabelFont / Math.sqrt(2) / c.graphH / .6), e = c.yScale.domain().filter(function (e, t) { return !(t % n) }), t = Math.min(12, c.graphH / e.length * .6 * Math.sqrt(2)), a = Math.ceil(c.rightMargin / (t / Math.sqrt(2))); c.yAxis.tickValues(e), c.yAxis.tickFormat(function (e) { return c.rightAxis ? i(e.split("+&+")[1], a) : "" }), c.svg.select("g.y-axis").transition().duration(c.transDuration).attr("transform", "translate(" + c.graphW + ", 0)").style("font-size", t + "px").call(c.yAxis);// Grp
                var r = p(c.grpScale.range(), function (e, t) { return 0 < t ? e - c.grpScale.range()[t - 1] : 2 * e });// Make Axises clickable
                t = Math.min(14, .6 * r * Math.sqrt(2)), a = Math.floor(c.leftMargin / (t / Math.sqrt(2))), c.grpAxis.tickFormat(function (e) { return i(e, a) }), c.svg.select("g.grp-axis").transition().duration(c.transDuration).style("font-size", t + "px").call(c.grpAxis), c.onLabelClick && c.svg.selectAll("g.y-axis,g.grp-axis").selectAll("text").style("cursor", "pointer").on("click", function (e) { var t = e.split("+&+"); c.onLabelClick.apply(c, f(t.reverse())) });//
                function i(e, t) { return e.length <= t ? e : e.substring(0, 2 * t / 3) + "..." + e.substring(e.length - t / 3, e.length) }
            }(), function () { var e = c.graph.selectAll("rect.series-group").data(c.structData, function (e) { return e.group }); e.exit().transition().duration(c.transDuration).style("stroke-opacity", 0).style("fill-opacity", 0).remove(); var t = e.enter().append("rect").attr("class", "series-group").attr("x", 0).attr("y", 0).attr("height", 0).style("fill", "url(#" + c.groupGradId + ")").on("mouseover", c.groupTooltip.show).on("mouseout", c.groupTooltip.hide); t.append("title").text("click-drag to zoom in"), (e = e.merge(t)).transition().duration(c.transDuration).attr("width", c.graphW).attr("height", function (e) { return c.graphH * e.lines.length / c.nLines }).attr("y", function (e) { return c.grpScale(e.group) - c.graphH * e.lines.length / c.nLines / 2 }) }(), function (n) { n < 0 && (n = null); c.lineHeight = c.graphH / c.nLines * .8; var t, e = c.graph.selectAll("g").data(c.flatData.filter(function (e, t) { return (null == n || t < n) && c.grpScale.domain().indexOf(e.group) + 1 && e.timeRange[1] >= c.xScale.domain()[0] && e.timeRange[0] <= c.xScale.domain()[1] && c.yScale.domain().indexOf(e.group + "+&+" + e.label) + 1 }), function (e) { return e.group + e.label + e.description + e.timeRange[0] + e.timeRange[1] }); e.exit().transition().duration(c.transDuration).style("fill-opacity", 0).remove(); var a = e.enter().append("g").attr("class", "series-segment").attr("transform", function (e) { return t = c.yScale(e.group + "+&+" + e.label) - c.lineHeight / 2, "translate(" + c.xScale(e.timeRange[0]) + "," + t + ")" }).style("fill", function (e) { return c.zColorScale(e.val) }).style("fill-opacity", 1).on("mouseover.groupTooltip", c.groupTooltip.show).on("mouseout.groupTooltip", c.groupTooltip.hide).on("mouseover.lineTooltip", c.lineTooltip.show).on("mouseout.lineTooltip", c.lineTooltip.hide).on("mouseover.segmentTooltip", c.segmentTooltip.show).on("mouseout.segmentTooltip", c.segmentTooltip.hide), r = a.append("svg").attr("class", "svgband").attr("width", function (e) { return g([1, c.xScale(e.timeRange[1]) - c.xScale(e.timeRange[0])]) }).attr("height", c.lineHeight).style("fill-opacity", .8).attr("x", 0).attr("y", 0); r.append("rect").attr("class", "rectband").attr("rx", 1).attr("ry", 1).attr("x", 0).attr("y", 0), r.append("text").text(function (e) { return c.timelineText ? e.description : "" }).style("fill", "black").style("font-size", "11px").style("font-weight", "bold").style("font-family", "sans-serif").attr("x", 0).attr("y", 9), a.on("mouseover", function () { if (!("disableHover" in c && c.disableHover)) { moveToFront()(this); var t = .4 * c.lineHeight; select(this).transition().duration(70).attr("x", function (e) { return c.xScale(e.timeRange[0]) - t / 2 }).attr("width", function (e) { return g([1, c.xScale(e.timeRange[1]) - c.xScale(e.timeRange[0])]) + t }).attr("y", function (e) { return c.yScale(e.group + "+&+" + e.label) - (c.lineHeight + t) / 2 }).attr("height", c.lineHeight + t).style("fill-opacity", 1) } }).on("mouseout", function () { select(this).transition().duration(250).attr("x", function (e) { return c.xScale(e.timeRange[0]) }).attr("width", function (e) { return g([1, c.xScale(e.timeRange[1]) - c.xScale(e.timeRange[0])]) }).attr("y", function (e) { return c.yScale(e.group + "+&+" + e.label) - c.lineHeight / 2 }).attr("height", c.lineHeight).style("fill-opacity", .8) }), (e = e.merge(a)).transition().duration(c.transDuration).attr("height", c.lineHeight).style("fill-opacity", .8).attr("transform", function (e) { return t = c.yScale(e.group + "+&+" + e.label) - c.lineHeight / 2, "translate(" + c.xScale(e.timeRange[0]) + "," + t + ")" }), e.selectAll(".rectband, .svgband").attr("width", function (e) { return g([1, c.xScale(e.timeRange[1]) - c.xScale(e.timeRange[0])]) }).attr("height", c.lineHeight).style("fill-opacity", .8) }(), c.svg.select(".legendG").transition().duration(c.transDuration).attr("transform", "translate(".concat(c.leftMargin + .05 * c.graphW, ",2)")), c.colorLegend.width(Math.max(120, c.graphW / 3 * (c.zQualitative ? 2 : 1))).height(.6 * c.topMargin).scale(c.zColorScale).label(c.zScaleLabel), c.resetBtn.transition().duration(c.transDuration).attr("x", c.leftMargin + .99 * c.graphW).attr("y", .8 * c.topMargin), Br().bbox({ width: .4 * c.graphW, height: Math.min(13, .8 * c.topMargin) })(c.resetBtn.node())
        }
    })
});
//# sourceMappingURL=timechart.js.map